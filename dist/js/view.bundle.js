function initMap(){map=new BMap.Map("map-canvas"),localSearch4Map=new BMap.LocalSearch(map,{renderOptions:{map:map}}),map.addControl(new BMap.NavigationControl),map.addControl(new BMap.NavigationControl),map.addControl(new BMap.ScaleControl),map.addControl(new BMap.OverviewMapControl),map.addControl(new BMap.MapTypeControl),map.setCurrentCity(currentCity),map.enableScrollWheelZoom(),map.enableKeyboard(),geoLocations.forEach(function(e){addMarker(e)});var e=new BMap.Point(center.location.lng,center.location.lat);map.centerAndZoom(e,INIT_ZOOM_NUM),window.setTimeout(function(){map.panTo(e)},2e3)}function addMarker(e){var a=new BMap.Point(e.location.lng,e.location.lat),t=new BMap.Icon(e.icon,new BMap.Size(40,50)),n=new BMap.Marker(a,{title:e.title,icon:t});n.enableDragging(),n.addEventListener("click",function(e){openInfoWindow(n)}),map.addOverlay(n),markers.push(n)}function openInfoWindow(e,a,t){var n={width:250,height:100,title:e.z.title};infoWindow=new BMap.InfoWindow("World",n),map.openInfoWindow(infoWindow,e.z.point)}function showLocationDetail(e){var a="https://maps.googleapis.com/maps/api/geocode/json?latlng="+e.position.lat()+","+e.position.lng()+"&key="+MY_API_KEY;$.ajax({url:a}).done(function(e,a,t){console.log(e);var n="";if("OK"===e.status){var o=e.results[0].place_id;n+="<div>地址ID:"+o+"</div>";var i=e.results[0].formatted_address;n+="<div>详情:"+i+"</div>";var l=e.results[0].geometry;n+="<div>类型:"+l.location_type+"</div>",n+="<div>纬度:"+l.location.lat+"</div>",n+="<div>经度:"+l.location.lng+"</div>",infoWindow.setContent(n)}}).fail(function(e,a,t){console.log("textStatus:"+a+", errorThrown:"+t)}).always(function(e,a,t){console.log("ajax request to foursquare is completed, textStatus:"+a)})}function zoomIn2Marker(e){map.centerAndZoom(e.z.point,DETAIL_ZOOM_NUM)}function zoomOut2InitStatus(){map.setCenter(center.location),map.setZoom(INIT_ZOOM_NUM)}function searchPlaces(e,a){var t="http://api.map.baidu.com/place/v2/search?query=酒店$银行$餐饮&scope=2&output=json&location="+e.z.point.lat+","+e.z.point.lng+"&radius=2000&filter=sort_name:distance|sort_rule:1&ak="+MY_API_KEY;$.ajax({url:t,dataType:"jsonp"}).done(function(e,a,t){var n=e.results;console.log(n),n.forEach(function(e){addMarker4NearByPlaces(e)})}).fail(function(e,a,t){console.log("textStatus:"+a+", errorThrown:"+t)}).always(function(e,a,t){console.log("request to baidu api completed, textStatus:"+a)})}function addMarker4NearByPlaces(e){var a=new BMap.Point(e.location.lng,e.location.lat),t=null,n=null,o=e.detail_info.type;switch(o){case"hotel":n=new BMap.Icon("./dist/images/hotels.png",new BMap.Size(40,50)),t=new BMap.Marker(a,{title:e.name,icon:n});break;case"life":n=new BMap.Icon("./dist/images/home-services.png",new BMap.Size(40,50)),t=new BMap.Marker(a,{title:e.name,icon:n});break;case"cater":n=new BMap.Icon("./dist/images/food.png",new BMap.Size(40,50)),t=new BMap.Marker(a,{title:e.name,icon:n});break;default:t=new BMap.Marker(a,{title:e.name})}t.enableDragging(),t.addEventListener("click",function(a){openInfoWindow2Detail(t,e)}),nearByPlaces.length=0,map.addOverlay(t),nearByPlaces.push(t)}function openInfoWindow2Detail(e,a){var t="",n=(a.name,a.street_id);t+="<div>地址:"+n+"</div>";var o=a.address;t+="<div>地址:"+o+"</div>";var i=a.telephone;i&&(t+="<div>电话:"+i+"</div>");var l=a.location;t+="<div>纬度:"+l.lat+"</div>",t+="<div>经度:"+l.lng+"</div>";var r=a.detail_info;t+="<div>标签:"+r.tag+"</div>",t+="<div>类型:"+r.type+"</div>",t+="<div>类型:<a href='"+r.detail_url+"'>详情页面</a></div>";var s={width:250,height:200,title:e.z.title};infoWindow=new BMap.InfoWindow(t,s),map.openInfoWindow(infoWindow,e.z.point)}var styles=[{featureType:"water",stylers:[{color:"#19a0d8"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#e85113"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-40}]},{featureType:"transit.station",stylers:[{weight:9},{hue:"#e85113"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#f0e4d3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-25}]}],currentCity="深圳",map=null,localSearch4Map=null,markers=[],nearByPlaces=[],MY_API_KEY="HW1hgQNz18TYRRn7BjN6BOMALz6h5G1C",infoWindow=null,INIT_ZOOM_NUM=12,DETAIL_ZOOM_NUM=17;initMap();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC52aWV3LmpzIl0sIm5hbWVzIjpbImluaXRNYXAiLCJtYXAiLCJCTWFwIiwiTWFwIiwibG9jYWxTZWFyY2g0TWFwIiwiTG9jYWxTZWFyY2giLCJyZW5kZXJPcHRpb25zIiwiYWRkQ29udHJvbCIsIk5hdmlnYXRpb25Db250cm9sIiwiU2NhbGVDb250cm9sIiwiT3ZlcnZpZXdNYXBDb250cm9sIiwiTWFwVHlwZUNvbnRyb2wiLCJzZXRDdXJyZW50Q2l0eSIsImN1cnJlbnRDaXR5IiwiZW5hYmxlU2Nyb2xsV2hlZWxab29tIiwiZW5hYmxlS2V5Ym9hcmQiLCJnZW9Mb2NhdGlvbnMiLCJmb3JFYWNoIiwibG9jIiwiYWRkTWFya2VyIiwicG9pbnQiLCJQb2ludCIsImNlbnRlciIsImxvY2F0aW9uIiwibG5nIiwibGF0IiwiY2VudGVyQW5kWm9vbSIsIklOSVRfWk9PTV9OVU0iLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwicGFuVG8iLCJteUljb24iLCJJY29uIiwiaWNvbiIsIlNpemUiLCJtYXJrZXIiLCJNYXJrZXIiLCJ0aXRsZSIsImVuYWJsZURyYWdnaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJvcGVuSW5mb1dpbmRvdyIsImFkZE92ZXJsYXkiLCJtYXJrZXJzIiwicHVzaCIsImNvbnRlbnQiLCJvcHRzIiwid2lkdGgiLCJoZWlnaHQiLCJ6IiwiaW5mb1dpbmRvdyIsIkluZm9XaW5kb3ciLCJzaG93TG9jYXRpb25EZXRhaWwiLCJ1cmwiLCJwb3NpdGlvbiIsIk1ZX0FQSV9LRVkiLCIkIiwiYWpheCIsImRvbmUiLCJkYXRhIiwidGV4dFN0YXR1cyIsImpxWGhyIiwiY29uc29sZSIsImxvZyIsImRldGFpbFN0cmluZyIsInN0YXR1cyIsInBsYWNlX2lkIiwicmVzdWx0cyIsImZvcm1hdHRlZF9hZGRyZXNzIiwiZ2VvbWV0cnkiLCJsb2NhdGlvbl90eXBlIiwic2V0Q29udGVudCIsImZhaWwiLCJlcnJvclRocm93biIsImFsd2F5cyIsImpxWEhST3JEYXRhIiwianFYSFJPckVycm9yVGhyb3duIiwiem9vbUluMk1hcmtlciIsIkRFVEFJTF9aT09NX05VTSIsInpvb21PdXQySW5pdFN0YXR1cyIsInNldENlbnRlciIsInNldFpvb20iLCJzZWFyY2hQbGFjZXMiLCJrZXlXb3JkcyIsImRhdGFUeXBlIiwiaXRlbXMiLCJpdGVtIiwiYWRkTWFya2VyNE5lYXJCeVBsYWNlcyIsInR5cGUiLCJkZXRhaWxfaW5mbyIsIm5hbWUiLCJvcGVuSW5mb1dpbmRvdzJEZXRhaWwiLCJuZWFyQnlQbGFjZXMiLCJsZW5ndGgiLCJwbGFjZUluZm8iLCJzdHJlZXRJZCIsInN0cmVldF9pZCIsImFkZHJlc3MiLCJ0ZWxlIiwidGVsZXBob25lIiwiZGV0YWlsSW5mbyIsInRhZyIsImRldGFpbF91cmwiLCJzdHlsZXMiLCJmZWF0dXJlVHlwZSIsInN0eWxlcnMiLCJjb2xvciIsImVsZW1lbnRUeXBlIiwid2VpZ2h0IiwibGlnaHRuZXNzIiwiaHVlIiwidmlzaWJpbGl0eSJdLCJtYXBwaW5ncyI6IkFBNkZBLFFBQUFBLFdBRUFDLElBQUEsR0FBQUMsTUFBQUMsSUFBQSxjQUVBQyxnQkFBQSxHQUFBRixNQUFBRyxZQUFBSixLQUNBSyxlQUFBTCxJQUFBQSxPQUdBQSxJQUFBTSxXQUFBLEdBQUFMLE1BQUFNLG1CQUNBUCxJQUFBTSxXQUFBLEdBQUFMLE1BQUFNLG1CQUNBUCxJQUFBTSxXQUFBLEdBQUFMLE1BQUFPLGNBQ0FSLElBQUFNLFdBQUEsR0FBQUwsTUFBQVEsb0JBQ0FULElBQUFNLFdBQUEsR0FBQUwsTUFBQVMsZ0JBQ0FWLElBQUFXLGVBQUFDLGFBQ0FaLElBQUFhLHdCQUNBYixJQUFBYyxpQkFNQUMsYUFBQUMsUUFBQSxTQUFBQyxHQUNBQyxVQUFBRCxJQUlBLElBQUFFLEdBQUEsR0FBQWxCLE1BQUFtQixNQUFBQyxPQUFBQyxTQUFBQyxJQUFBRixPQUFBQyxTQUFBRSxJQUNBeEIsS0FBQXlCLGNBQUFOLEVBQUFPLGVBQ0FDLE9BQUFDLFdBQUEsV0FDQTVCLElBQUE2QixN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b0JBQUFvQyxFQUFBRSxXQUFBLGtCQUVBLElBQUF4RCxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQVgsTUFBQUYsRUFBQWMsRUFBQVosTUFFQWEsWUFBQSxHQUFBaEQsTUFBQWlELFdBQUFhLEVBQUFsQixHQUVBN0MsSUFBQXdDLGVBQUFTLFdBQUFmLEVBQUFjLEVBQUE3QixPQTNWQSxHQUFBbUYsVUFFQUMsWUFBQSxRQUNBQyxVQUNBQyxNQUFBLGNBR0FGLFlBQUEsaUJBQ0FHLFlBQUEscUJBQ0FGLFVBQ0FDLE1BQUEsWUFDQUUsT0FBQSxNQUdBSixZQUFBLGlCQUNBRyxZQUFBLG1CQUNBRixVQUNBQyxNQUFBLGNBR0FGLFlBQUEsZUFDQUcsWUFBQSxrQkFDQUYsVUFDQUMsTUFBQSxZQUNBRyxXQUFBLE9BR0FMLFlBQUEsa0JBQ0FDLFVBQ0FHLE9BQUEsSUFDQUUsSUFBQSxjQUdBTixZQUFBLGVBQ0FHLFlBQUEsY0FDQUYsVUFDQU0sV0FBQSxVQUdBUCxZQUFBLFFBQ0FHLFlBQUEscUJBQ0FGLFVBQ0FJLFVBQUEsUUFHQUwsWUFBQSxRQUNBRyxZQUFBLG1CQUNBRixVQUNBSSxXQUFBLFFBR0FMLFlBQUEsTUFDQUcsWUFBQSxXQUNBRixVQUNBTSxXQUFBLE9BQ0FMLE1BQUEsY0FHQUYsWUFBQSxlQUNBRyxZQUFBLGdCQUNBRixVQUNBQyxNQUFBLFlBQ0FHLFdBQUEsT0FNQWhHLFlBQUEsS0FHQVosSUFBQSxLQUVBRyxnQkFBQSxLQUVBdUMsV0FFQWlELGdCQUdBckMsV0FBQSxtQ0FHQUwsV0FBQSxLQUVBdkIsY0FBQSxHQUNBbUQsZ0JBQUEsRUFzQ0E5RSIsImZpbGUiOiJ2aWV3LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHN1bnJpc2UyMDc1IG9uIDIwMTcvMi8yNi5cclxuICovXHJcbi8vIENyZWF0ZSBhIHN0eWxlcyBhcnJheSB0byB1c2Ugd2l0aCB0aGUgbWFwLlxyXG52YXIgc3R5bGVzID0gW1xyXG4gICAge1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAnd2F0ZXInLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBjb2xvcjogJyMxOWEwZDgnIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ2FkbWluaXN0cmF0aXZlJyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2xhYmVscy50ZXh0LnN0cm9rZScsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGNvbG9yOiAnI2ZmZmZmZicgfSxcclxuICAgICAgICAgICAgeyB3ZWlnaHQ6IDYgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAnYWRtaW5pc3RyYXRpdmUnLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuZmlsbCcsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGNvbG9yOiAnI2U4NTExMycgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAncm9hZC5oaWdod2F5JyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2dlb21ldHJ5LnN0cm9rZScsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGNvbG9yOiAnI2VmZTllNCcgfSxcclxuICAgICAgICAgICAgeyBsaWdodG5lc3M6IC00MCB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICd0cmFuc2l0LnN0YXRpb24nLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyB3ZWlnaHQ6IDkgfSxcclxuICAgICAgICAgICAgeyBodWU6ICcjZTg1MTEzJyB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICdyb2FkLmhpZ2h3YXknLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLmljb24nLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyB2aXNpYmlsaXR5OiAnb2ZmJyB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICd3YXRlcicsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5zdHJva2UnLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBsaWdodG5lc3M6IDEwMCB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICd3YXRlcicsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5maWxsJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgbGlnaHRuZXNzOiAtMTAwIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3BvaScsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeScsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IHZpc2liaWxpdHk6ICdvbicgfSxcclxuICAgICAgICAgICAgeyBjb2xvcjogJyNmMGU0ZDMnIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3JvYWQuaGlnaHdheScsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeS5maWxsJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgY29sb3I6ICcjZWZlOWU0JyB9LFxyXG4gICAgICAgICAgICB7IGxpZ2h0bmVzczogLTI1IH1cclxuICAgICAgICBdXHJcbiAgICB9XHJcbl07XHJcblxyXG4vL2N1cnJlbnQgY2l0eSBnb3IgQmFpRHUgbWFwXHJcbnZhciBjdXJyZW50Q2l0eSA9IFwi5rex5ZyzXCI7XHJcblxyXG4vL2NhY2hlIGdvb2dsZSBtYXAgb2JqZWN0IGFzIGdsb2JhbCB2YXJpYWJsZVxyXG52YXIgbWFwID0gbnVsbDtcclxuXHJcbnZhciBsb2NhbFNlYXJjaDRNYXAgPSBudWxsO1xyXG5cclxudmFyIG1hcmtlcnMgPSBbXTtcclxuXHJcbnZhciBuZWFyQnlQbGFjZXMgPSBbXTtcclxuXHJcbi8vIGNhY2hlIG15IGdvb2dsZSBtYXAgYXBpIGtleVxyXG52YXIgTVlfQVBJX0tFWSA9IFwiSFcxaGdRTnoxOFRZUlJuN0JqTjZCT01BTHo2aDVHMUNcIjtcclxuXHJcbi8vY2FjaGUgaW5mb1dpbmRvdyBvYmplY3QgYXMgZ2xvYmFsIHZhcmlhYmxlXHJcbnZhciBpbmZvV2luZG93ID0gbnVsbDtcclxuXHJcbnZhciBJTklUX1pPT01fTlVNID0gMTI7XHJcbnZhciBERVRBSUxfWk9PTV9OVU0gPSAxNztcclxuXHJcbi8vZ29vZ2xlIG1hcCBBUEkgY2FsbGJhY2sgZnVuY3Rpb25cclxuZnVuY3Rpb24gaW5pdE1hcCgpe1xyXG5cclxuICAgIG1hcCA9IG5ldyBCTWFwLk1hcChcIm1hcC1jYW52YXNcIik7IC8vIOWIm+W7uuWcsOWbvuWunuS+i1xyXG4gICAgLy/lop7liqDlnLDlm77mkJzntKLlip/og71cclxuICAgIGxvY2FsU2VhcmNoNE1hcCA9IG5ldyBCTWFwLkxvY2FsU2VhcmNoKG1hcCwge1xyXG4gICAgICAgIHJlbmRlck9wdGlvbnM6e21hcDogbWFwfVxyXG4gICAgfSk7XHJcbiAgICAvLyDnu7TlnLDlm77lop7liqDmjqfliLbnu4Tku7ZcclxuICAgIG1hcC5hZGRDb250cm9sKG5ldyBCTWFwLk5hdmlnYXRpb25Db250cm9sKCkpO1xyXG4gICAgbWFwLmFkZENvbnRyb2wobmV3IEJNYXAuTmF2aWdhdGlvbkNvbnRyb2woKSk7XHJcbiAgICBtYXAuYWRkQ29udHJvbChuZXcgQk1hcC5TY2FsZUNvbnRyb2woKSk7XHJcbiAgICBtYXAuYWRkQ29udHJvbChuZXcgQk1hcC5PdmVydmlld01hcENvbnRyb2woKSk7XHJcbiAgICBtYXAuYWRkQ29udHJvbChuZXcgQk1hcC5NYXBUeXBlQ29udHJvbCgpKTtcclxuICAgIG1hcC5zZXRDdXJyZW50Q2l0eShjdXJyZW50Q2l0eSk7IC8vIOS7heW9k+iuvue9ruWfjuW4guS/oeaBr+aXtu+8jE1hcFR5cGVDb250cm9s55qE5YiH5o2i5Yqf6IO95omN6IO95Y+v55SoXHJcbiAgICBtYXAuZW5hYmxlU2Nyb2xsV2hlZWxab29tKCk7Ly/lkK/liqjpvKDmoIfmu5rova7nvKnmlL7lnLDlm75cclxuICAgIG1hcC5lbmFibGVLZXlib2FyZCgpOy8v5ZCv5Yqo6ZSu55uY5pON5L2c5Zyw5Zu+XHJcblxyXG5cclxuICAgIC8v5Zyo5Zyw5Zu+5LiK6L+95Yqg5Zu+5qCHXHJcbiAgICAvLyB2YXIgbWFya2VyID0gbmV3IEJNYXAuTWFya2VyKHBvaW50KTtcclxuICAgIC8vXHJcbiAgICBnZW9Mb2NhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihsb2Mpe1xyXG4gICAgICAgIGFkZE1hcmtlcihsb2MpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g5L2/55So5Zyw54K555qE57uP5bqm5ZKM57qs5bqmLOWIm+W7uueCueWdkOagh1xyXG4gICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQoY2VudGVyLmxvY2F0aW9uLmxuZywgY2VudGVyLmxvY2F0aW9uLmxhdCk7XHJcbiAgICBtYXAuY2VudGVyQW5kWm9vbShwb2ludCwgSU5JVF9aT09NX05VTSk7XHJcbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIG1hcC5wYW5Ubyhwb2ludCk7XHJcbiAgICB9LCAyMDAwKTtcclxuXHJcblxyXG59XHJcblxyXG5pbml0TWFwKCk7XHJcblxyXG5mdW5jdGlvbiBhZGRNYXJrZXIobG9jKXtcclxuICAgIC8vIOWQkeWcsOWbvua3u+WKoOagh+azqFxyXG4gICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQobG9jLmxvY2F0aW9uLmxuZyxcclxuICAgICAgICBsb2MubG9jYXRpb24ubGF0KTtcclxuICAgIC8vIOWIm+W7uuagh+azqOWvueixoeW5tua3u+WKoOWIsOWcsOWbvlxyXG4gICAgdmFyIG15SWNvbiA9IG5ldyBCTWFwLkljb24obG9jLmljb24sIG5ldyBCTWFwLlNpemUoNDAsIDUwKSk7XHJcbiAgICB2YXIgbWFya2VyID0gbmV3IEJNYXAuTWFya2VyKHBvaW50LCB7XHJcbiAgICAgICAgdGl0bGU6IGxvYy50aXRsZSxcclxuICAgICAgICBpY29uOiBteUljb25cclxuICAgIH0pO1xyXG4gICAgbWFya2VyLmVuYWJsZURyYWdnaW5nKCk7XHJcbiAgICBtYXJrZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIG9wZW5JbmZvV2luZG93KG1hcmtlcik7XHJcbiAgICB9KVxyXG4gICAgLy8gbWFya2VyLnNldEFuaW1hdGlvbihCTUFQX0FOSU1BVElPTl9EUk9QKTsvL+i3s+WKqOeahOWKqOeUu1xyXG4gICAgbWFwLmFkZE92ZXJsYXkobWFya2VyKTtcclxuICAgIG1hcmtlcnMucHVzaChtYXJrZXIpO1xyXG59XHJcblxyXG4vKlxyXG4qIEBkZXNjcmlwdGlvbjogb3BlbiBpbmZvIHdpbmRvdyBmb3JcclxuKiAgICAgICAgICAgICAgdGhlIGdpdmVuIGdvb2dsZSBtYXAgbWFya2VyXHJcbiogQHBhcmFtICBtYXJrZXIgdGhlIG9iamVjdCBvZiBtYXJrZXJcclxuKiBAcGFyYW0gdGl0bGVcclxuKiBAcGFyYW0gY29udGVudFxyXG4qIEByZXR1cm4gdm9pZFxyXG4qICovXHJcbmZ1bmN0aW9uIG9wZW5JbmZvV2luZG93KG1hcmtlciwgdGl0bGUsIGNvbnRlbnQpe1xyXG4gICAgLy9jcmVhdGUgYW4gaW5mbyB3aW5kb3cgb2JqZWN0XHJcbiAgICAvL29yIHNldCBjb250ZW50IG9uIHRoZSBleGlzdGluZyBpbmZvIHdpbmRvd1xyXG4gICAgLy93ZSBuZWVkbid0IGNyZWF0ZSBpbmZvIHdpbmRvdyBvYmplY3QgcmVwZWF0ZWRseVxyXG4gICAgdmFyIG9wdHMgPSB7XHJcbiAgICAgICAgd2lkdGggOiAyNTAsICAgICAvLyDkv6Hmga/nqpflj6Plrr3luqZcclxuICAgICAgICBoZWlnaHQ6IDEwMCwgICAgIC8vIOS/oeaBr+eql+WPo+mrmOW6plxyXG4gICAgICAgIHRpdGxlIDogbWFya2VyLnoudGl0bGUgIC8vIOS/oeaBr+eql+WPo+agh+mimFxyXG4gICAgfVxyXG4gICAgaW5mb1dpbmRvdyA9IG5ldyBCTWFwLkluZm9XaW5kb3coXCJXb3JsZFwiLCBvcHRzKTsgIC8vIOWIm+W7uuS/oeaBr+eql+WPo+WvueixoVxyXG5cclxuICAgIG1hcC5vcGVuSW5mb1dpbmRvdyhpbmZvV2luZG93LCBtYXJrZXIuei5wb2ludCk7ICAgICAgLy8g5omT5byA5L+h5oGv56qX5Y+jXHJcblxyXG5cclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIEBkZXNjcmlwdGlvbjogcXVlcnkgZGV0YWlsZWQgaW5mb3JtYXRpb25cclxuICogZm9yIHRoZSBnaXZlbiBtYXJrZXIgYW5kIHNldCBjb250ZW50IGZvclxyXG4gKiBjdXJyZW50IGluZm8gd2luZG93XHJcbiAqIEBwYXJhbSAgbWFya2VyIHRoZSBvYmplY3Qgb2YgbWFya2VyXHJcbiAqIEByZXR1cm4gdm9pZFxyXG4qICovXHJcbmZ1bmN0aW9uIHNob3dMb2NhdGlvbkRldGFpbChtYXJrZXIpe1xyXG5cclxuICAgIHZhciB1cmwgPSBcImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24/bGF0bG5nPVwiICtcclxuICAgICAgICBtYXJrZXIucG9zaXRpb24ubGF0KCkgK1xyXG4gICAgICAgIFwiLFwiICtcclxuICAgICAgICBtYXJrZXIucG9zaXRpb24ubG5nKCkgK1xyXG4gICAgICAgIFwiJmtleT1cIiArXHJcbiAgICAgICAgTVlfQVBJX0tFWTtcclxuXHJcbiAgICAvL21ha2UgYWpheCByZXF1ZXN0IHRvIGZvdXJzcXVhcmUgYXBpXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybCA6IHVybFxyXG4gICAgICAgIC8vZG8gcmVzcG9uc2Ugc3VjY2VzcyBoYW5kbGluZ1xyXG4gICAgfSkuZG9uZShmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhocil7XHJcbiAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgIHZhciBkZXRhaWxTdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgaWYoZGF0YS5zdGF0dXMgPT09IFwiT0tcIil7XHJcbiAgICAgICAgICAgIHZhciBwbGFjZV9pZCA9IGRhdGEucmVzdWx0c1swXS5wbGFjZV9pZDtcclxuICAgICAgICAgICBkZXRhaWxTdHJpbmcgKz0gXCI8ZGl2PuWcsOWdgElEOlwiICsgcGxhY2VfaWQgKyBcIjwvZGl2PlwiO1xyXG5cclxuICAgICAgICAgICB2YXIgZm9ybWF0dGVkX2FkZHJlc3MgPSBkYXRhLnJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3M7XHJcbiAgICAgICAgICAgZGV0YWlsU3RyaW5nICs9IFwiPGRpdj7or6bmg4U6XCIgKyBmb3JtYXR0ZWRfYWRkcmVzcyArIFwiPC9kaXY+XCI7XHJcblxyXG4gICAgICAgICAgIHZhciBnZW9tZXRyeSA9IGRhdGEucmVzdWx0c1swXS5nZW9tZXRyeTtcclxuICAgICAgICAgICBkZXRhaWxTdHJpbmcgKz0gXCI8ZGl2Puexu+WeizpcIiArIGdlb21ldHJ5LmxvY2F0aW9uX3R5cGUgKyBcIjwvZGl2PlwiO1xyXG4gICAgICAgICAgIGRldGFpbFN0cmluZyArPSBcIjxkaXY+57qs5bqmOlwiICsgZ2VvbWV0cnkubG9jYXRpb24ubGF0ICsgXCI8L2Rpdj5cIjtcclxuICAgICAgICAgICBkZXRhaWxTdHJpbmcgKz0gXCI8ZGl2Pue7j+W6pjpcIiArIGdlb21ldHJ5LmxvY2F0aW9uLmxuZyArIFwiPC9kaXY+XCI7XHJcbiAgICAgICAgICAgaW5mb1dpbmRvdy5zZXRDb250ZW50KGRldGFpbFN0cmluZyk7XHJcbiAgICAgICB9XHJcbiAgICAgICAgLy9kbyByZXNwb25zZSBlcnJvciBoYW5kbGluZ1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbihqcVhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCBcInRleHRTdGF0dXM6XCIgKyB0ZXh0U3RhdHVzICsgXCIsIGVycm9yVGhyb3duOlwiICtlcnJvclRocm93bik7XHJcbiAgICAgICAgLy9kbyBhamF4IGxvZ2dpbmcgb24gdGhlIGJyb3dzZXIgY29uc29sZVxyXG4gICAgfSkuYWx3YXlzIChmdW5jdGlvbihqcVhIUk9yRGF0YSwgdGV4dFN0YXR1cywganFYSFJPckVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coIFwiYWpheCByZXF1ZXN0IHRvIGZvdXJzcXVhcmUgaXMgY29tcGxldGVkLCB0ZXh0U3RhdHVzOlwiICsgdGV4dFN0YXR1cyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuKiBAZGVzY3JpcHRpb246IHpvb20gaW4gYW5kIHNldCBjZW50ZXIgb2YgdGhlIG1hcFxyXG4qIEBwYXJhbSBtYXJrZXIgdGhlIGdpdmVuIG1hcmtlclxyXG4qIEByZXR1cm4gdm9pZFxyXG4qICovXHJcbmZ1bmN0aW9uIHpvb21JbjJNYXJrZXIobWFya2VyKXtcclxuICAgIG1hcC5jZW50ZXJBbmRab29tKG1hcmtlci56LnBvaW50LCBERVRBSUxfWk9PTV9OVU0pO1xyXG59XHJcblxyXG4vKlxyXG4gKiBAZGVzY3JpcHRpb246IHpvb20gb3V0IHRvIHRoZSBpbml0aWFsIHN0YXRlIG9mIGdvb2dsZSBtYXBcclxuICogQHBhcmFtIG5vbmVcclxuICogQHJldHVybiB2b2lkXHJcbiAqICovXHJcbmZ1bmN0aW9uIHpvb21PdXQySW5pdFN0YXR1cygpe1xyXG4gICAgbWFwLnNldENlbnRlcihjZW50ZXIubG9jYXRpb24pO1xyXG4gICAgbWFwLnNldFpvb20oSU5JVF9aT09NX05VTSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZWFyY2hQbGFjZXMobWFya2VyLCBrZXlXb3Jkcyl7XHJcblxyXG4gICAgdmFyIHVybCA9IFwiaHR0cDovL2FwaS5tYXAuYmFpZHUuY29tL3BsYWNlL3YyL3NlYXJjaD9xdWVyeT3phZLlupck6ZO26KGMJOmkkOmlriZzY29wZT0yJm91dHB1dD1qc29uJmxvY2F0aW9uPVwiXHJcbiAgICAgICAgKyBtYXJrZXIuei5wb2ludC5sYXRcclxuICAgICAgICArIFwiLFwiXHJcbiAgICAgICAgKyBtYXJrZXIuei5wb2ludC5sbmcgK1xyXG4gICAgICAgIFwiJnJhZGl1cz0yMDAwJmZpbHRlcj1zb3J0X25hbWU6ZGlzdGFuY2V8c29ydF9ydWxlOjEmYWs9XCJcclxuICAgICAgICArIE1ZX0FQSV9LRVk7XHJcblxyXG4gICAgLy9tYWtlIGFqYXggcmVxdWVzdCB0byBmb3Vyc3F1YXJlIGFwaVxyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmwgOiB1cmwsXHJcbiAgICAgICAgZGF0YVR5cGUgOiBcImpzb25wXCIsXHJcbiAgICAgICAgLy9kbyByZXNwb25zZSBzdWNjZXNzIGhhbmRsaW5nXHJcbiAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWGhyKXtcclxuXHJcbiAgICAgICAgdmFyIGl0ZW1zID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW1zKTtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICBhZGRNYXJrZXI0TmVhckJ5UGxhY2VzKGl0ZW0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9kbyByZXNwb25zZSBlcnJvciBoYW5kbGluZ1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbihqcVhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCBcInRleHRTdGF0dXM6XCIgKyB0ZXh0U3RhdHVzICsgXCIsIGVycm9yVGhyb3duOlwiICsgZXJyb3JUaHJvd24pO1xyXG4gICAgICAgIC8vZG8gYWpheCBsb2dnaW5nIG9uIHRoZSBicm93c2VyIGNvbnNvbGVcclxuICAgIH0pLmFsd2F5cyAoZnVuY3Rpb24oanFYSFJPckRhdGEsIHRleHRTdGF0dXMsIGpxWEhST3JFcnJvclRocm93bikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCBcInJlcXVlc3QgdG8gYmFpZHUgYXBpIGNvbXBsZXRlZCwgdGV4dFN0YXR1czpcIiArIHRleHRTdGF0dXMpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZE1hcmtlcjROZWFyQnlQbGFjZXMoaXRlbSl7XHJcbiAgICAvLyDlkJHlnLDlm77mt7vliqDmoIfms6hcclxuICAgIHZhciBwb2ludCA9IG5ldyBCTWFwLlBvaW50KGl0ZW0ubG9jYXRpb24ubG5nLCBpdGVtLmxvY2F0aW9uLmxhdCk7XHJcbiAgICB2YXIgbWFya2VyID0gbnVsbDtcclxuICAgIHZhciBteUljb24gPSBudWxsO1xyXG4gICAgdmFyIHR5cGUgPSBpdGVtLmRldGFpbF9pbmZvLnR5cGU7XHJcblxyXG4gICAgLy8g5Yib5bu65qCH5rOo5a+56LGh5bm25re75Yqg5Yiw5Zyw5Zu+XHJcbiAgICBzd2l0Y2godHlwZSl7XHJcbiAgICAgICAgY2FzZSBcImhvdGVsXCI6XHJcbiAgICAgICAgICAgIG15SWNvbiA9IG5ldyBCTWFwLkljb24oXCIuL2Rpc3QvaW1hZ2VzL2hvdGVscy5wbmdcIiwgbmV3IEJNYXAuU2l6ZSg0MCwgNTApKTtcclxuICAgICAgICAgICAgbWFya2VyID0gbmV3IEJNYXAuTWFya2VyKHBvaW50LCB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogbXlJY29uXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImxpZmVcIjpcclxuICAgICAgICAgICAgbXlJY29uID0gbmV3IEJNYXAuSWNvbihcIi4vZGlzdC9pbWFnZXMvaG9tZS1zZXJ2aWNlcy5wbmdcIiwgbmV3IEJNYXAuU2l6ZSg0MCwgNTApKTtcclxuICAgICAgICAgICAgbWFya2VyID0gbmV3IEJNYXAuTWFya2VyKHBvaW50LCB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogbXlJY29uXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImNhdGVyXCI6XHJcbiAgICAgICAgICAgIG15SWNvbiA9IG5ldyBCTWFwLkljb24oXCIuL2Rpc3QvaW1hZ2VzL2Zvb2QucG5nXCIsIG5ldyBCTWFwLlNpemUoNDAsIDUwKSk7XHJcbiAgICAgICAgICAgIG1hcmtlciA9IG5ldyBCTWFwLk1hcmtlcihwb2ludCwge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubmFtZSxcclxuICAgICAgICAgICAgICAgIGljb246IG15SWNvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIG1hcmtlciA9IG5ldyBCTWFwLk1hcmtlcihwb2ludCwge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubmFtZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBtYXJrZXIuZW5hYmxlRHJhZ2dpbmcoKTtcclxuICAgIG1hcmtlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgb3BlbkluZm9XaW5kb3cyRGV0YWlsKG1hcmtlciwgaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIG5lYXJCeVBsYWNlcy5sZW5ndGggPSAwO1xyXG4gICAgbWFwLmFkZE92ZXJsYXkobWFya2VyKTtcclxuICAgIG5lYXJCeVBsYWNlcy5wdXNoKG1hcmtlcik7XHJcbn1cclxuXHJcbi8qXHJcbipcclxuKiAqL1xyXG5mdW5jdGlvbiBvcGVuSW5mb1dpbmRvdzJEZXRhaWwobWFya2VyLCBwbGFjZUluZm8pe1xyXG4gICAgdmFyIGRldGFpbFN0cmluZyA9IFwiXCI7XHJcbiAgICB2YXIgdGl0bGUgPSBwbGFjZUluZm8ubmFtZTtcclxuXHJcbiAgICB2YXIgc3RyZWV0SWQgPSBwbGFjZUluZm8uc3RyZWV0X2lkO1xyXG4gICAgZGV0YWlsU3RyaW5nICs9IFwiPGRpdj7lnLDlnYA6XCIgKyBzdHJlZXRJZCArIFwiPC9kaXY+XCI7XHJcblxyXG4gICAgdmFyIGFkZHJlc3MgPSBwbGFjZUluZm8uYWRkcmVzcztcclxuICAgIGRldGFpbFN0cmluZyArPSBcIjxkaXY+5Zyw5Z2AOlwiICsgYWRkcmVzcyArIFwiPC9kaXY+XCI7XHJcblxyXG4gICAgdmFyIHRlbGUgPSBwbGFjZUluZm8udGVsZXBob25lO1xyXG4gICAgaWYodGVsZSl7XHJcbiAgICAgICAgZGV0YWlsU3RyaW5nICs9IFwiPGRpdj7nlLXor506XCIgKyB0ZWxlICsgXCI8L2Rpdj5cIjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbG9jYXRpb24gPSBwbGFjZUluZm8ubG9jYXRpb247XHJcbiAgICBkZXRhaWxTdHJpbmcgKz0gXCI8ZGl2Pue6rOW6pjpcIiArIGxvY2F0aW9uLmxhdCArIFwiPC9kaXY+XCI7XHJcbiAgICBkZXRhaWxTdHJpbmcgKz0gXCI8ZGl2Pue7j+W6pjpcIiArIGxvY2F0aW9uLmxuZyArIFwiPC9kaXY+XCI7XHJcblxyXG4gICAgdmFyIGRldGFpbEluZm8gPSBwbGFjZUluZm8uZGV0YWlsX2luZm87XHJcbiAgICBkZXRhaWxTdHJpbmcgKz0gXCI8ZGl2Puagh+etvjpcIiArIGRldGFpbEluZm8udGFnICsgXCI8L2Rpdj5cIjtcclxuICAgIGRldGFpbFN0cmluZyArPSBcIjxkaXY+57G75Z6LOlwiICsgZGV0YWlsSW5mby50eXBlICsgXCI8L2Rpdj5cIjtcclxuICAgIGRldGFpbFN0cmluZyArPSBcIjxkaXY+57G75Z6LOjxhIGhyZWY9J1wiICsgZGV0YWlsSW5mby5kZXRhaWxfdXJsICtcIic+6K+m5oOF6aG16Z2iPC9hPjwvZGl2PlwiO1xyXG5cclxuICAgIHZhciBvcHRzID0ge1xyXG4gICAgICAgIHdpZHRoIDogMjUwLCAgICAgLy8g5L+h5oGv56qX5Y+j5a695bqmXHJcbiAgICAgICAgaGVpZ2h0OiAyMDAsICAgICAvLyDkv6Hmga/nqpflj6Ppq5jluqZcclxuICAgICAgICB0aXRsZSA6IG1hcmtlci56LnRpdGxlICAvLyDkv6Hmga/nqpflj6PmoIfpophcclxuICAgIH1cclxuICAgIGluZm9XaW5kb3cgPSBuZXcgQk1hcC5JbmZvV2luZG93KGRldGFpbFN0cmluZywgb3B0cyk7ICAvLyDliJvlu7rkv6Hmga/nqpflj6Plr7nosaFcclxuXHJcbiAgICBtYXAub3BlbkluZm9XaW5kb3coaW5mb1dpbmRvdywgbWFya2VyLnoucG9pbnQpOyAgICAgIC8vIOaJk+W8gOS/oeaBr+eql+WPo1xyXG59XHJcblxyXG5cclxuXHJcblxyXG4iXX0=
