function initMap(){map=new google.maps.Map(document.getElementById("map-canvas"),{zoom:11,center:center.location}),map.setOptions({styles:styles});var e=[];geoLocations.forEach(function(t){var o=new google.maps.Marker({position:t.location,map:map,title:t.title,icon:{url:t.icon}});o.addListener("click",function(){o.setAnimation(4),openInfoWindow(o)}),e.push(o)}),initKoViewModel4App(e)}function openInfoWindow(e){var t=windowContents[e.title];infoWindow?infoWindow.setContent(t):infoWindow=new google.maps.InfoWindow({content:t,maxWidth:350}),infoWindow.open(map,e)}function loadCoffeeShopInfo(e){coffeeShopMarkers.forEach(function(e){e.setMap(null)}),coffeeShopMarkers.length=0;var t="XBEVRWM1JGYOB2WS5LMPM35BJZFAANOTAPEEGNNHQ52BDOXV",o="P1XBXTSAGOKAWMGYIMHOALG1NSBPOJYVZLUAD5RSQEGJ3MN5",n="https://api.foursquare.com/v2/venues/explore?",i="ll="+e.position.lat()+"%2C"+e.position.lng()+"&section=coffee&limit=10&novelty=new",l="&client_id="+t+"&client_secret="+o+"&v=20170308",a=n+i+l;$.ajax({url:a}).done(function(e,t,o){var n=e.response.groups[0].items;console.log(n);for(var i in n){var l=n[i].venue,a=new google.maps.Marker({position:new google.maps.LatLng(l.location.lat,l.location.lng),map:map,title:l.name,icon:{url:"./dist/images/coffee-n-tea.png"}});coffeeShopMarkers.push(a)}}).fail(function(e,t,o){console.log("textStatus:"+t+", errorThrown:"+o)}).always(function(e,t,o){console.log("ajax request to foursquare is completed, textStatus:"+t)})}var map,styles=[{featureType:"water",stylers:[{color:"#19a0d8"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#e85113"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-40}]},{featureType:"transit.station",stylers:[{weight:9},{hue:"#e85113"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#f0e4d3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-25}]}],infoWindow=null,coffeeShopMarkers=[];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC52aWV3LmpzIl0sIm5hbWVzIjpbImluaXRNYXAiLCJtYXAiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInpvb20iLCJjZW50ZXIiLCJsb2NhdGlvbiIsInNldE9wdGlvbnMiLCJzdHlsZXMiLCJtYXJrZXJzIiwiZ2VvTG9jYXRpb25zIiwiZm9yRWFjaCIsImxvYyIsIm1hcmtlciIsIk1hcmtlciIsInBvc2l0aW9uIiwidGl0bGUiLCJpY29uIiwidXJsIiwiYWRkTGlzdGVuZXIiLCJzZXRBbmltYXRpb24iLCJvcGVuSW5mb1dpbmRvdyIsInB1c2giLCJpbml0S29WaWV3TW9kZWw0QXBwIiwiY29udGVudFN0cmluZyIsIndpbmRvd0NvbnRlbnRzIiwiaW5mb1dpbmRvdyIsInNldENvbnRlbnQiLCJJbmZvV2luZG93IiwiY29udGVudCIsIm1heFdpZHRoIiwib3BlbiIsImxvYWRDb2ZmZWVTaG9wSW5mbyIsImNvZmZlZVNob3BNYXJrZXJzIiwiY29mZmVlQmFyTWFya2VyIiwic2V0TWFwIiwibGVuZ3RoIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJiYXNlVXJsIiwicXVlcnlQYXJhbXMiLCJsYXQiLCJsbmciLCJ1c2VySW5mbyIsIiQiLCJhamF4IiwiZG9uZSIsImRhdGEiLCJ0ZXh0U3RhdHVzIiwianFYaHIiLCJpdGVtcyIsInJlc3BvbnNlIiwiZ3JvdXBzIiwiY29uc29sZSIsImxvZyIsImkiLCJ2ZW51ZSIsIkxhdExuZyIsIm5hbWUiLCJmYWlsIiwiZXJyb3JUaHJvd24iLCJhbHdheXMiLCJqcVhIUk9yRGF0YSIsImpxWEhST3JFcnJvclRocm93biIsImZlYXR1cmVUeXBlIiwic3R5bGVycyIsImNvbG9yIiwiZWxlbWVudFR5cGUiLCJ3ZWlnaHQiLCJsaWdodG5lc3MiLCJodWUiLCJ2aXNpYmlsaXR5Il0sIm1hcHBpbmdzIjoiQUE0RUEsUUFBQUEsV0FDQUMsSUFBQSxHQUFBQyxRQUFBQyxLQUFBQyxJQUFBQyxTQUFBQyxlQUFBLGVBQ0FDLEtBQUEsR0FDQUMsT0FBQUEsT0FBQUMsV0FHQVIsSUFBQVMsWUFBQUMsT0FBQUEsUUFHQSxJQUFBQyxLQUNBQyxjQUFBQyxRQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQSxHQUFBZCxRQUFBQyxLQUFBYyxRQUNBQyxTQUFBSCxFQUFBTixTQUNBUixJQUFBQSxJQUNBa0IsTUFBQUosRUFBQUksTUFDQUMsTUFDQUMsSUFBQU4sRUFBQUssT0FHQUosR0FBQU0sWUFBQSxRQUFBLFdBRUFOLEVBQUFPLGFBQUEsR0FDQUMsZUFBQVIsS0FFQUosRUFBQWEsS0FBQVQsS0FJQVUsb0JBQUFkLEdBU0EsUUFBQVksZ0JBQUFSLEdBRUEsR0FBQVcsR0FBQUMsZUFBQVosRUFBQUcsTUFLQVUsWUFNQUEsV0FBQUMsV0FBQUgsR0FMQUUsV0FBQSxHQUFBM0IsUUFBQUMsS0FBQTRCLFlBQ0FDLFFBQUFMLEVBQ0FNLFNBQUEsTUFNQUosV0FBQUssS0FBQWpDLElBQUFlLEdBWUEsUUFBQW1CLG9CQUFBbkIsR0FFQW9CLGtCQUFBdEIsUUFBQSxTQUFBdUIsR0FDQUEsRUFBQUMsT0FBQSxRQUdBRixrQkFBQUcsT0FBQSxDQU1BLElBQUFDLEdBQUEsbURBQ0FDLEVBQUEsbURBS0FDLEVBQUEsZ0RBQ0FDLEVBQUEsTUFBQTNCLEVBQUFFLFNBQUEwQixNQUFBLE1BQUE1QixFQUFBRSxTQUFBMkIsTUFBQSx1Q0FDQUMsRUFBQSxjQUFBTixFQUFBLGtCQUFBQyxFQUFBLGNBQ0FwQixFQUFBcUIsRUFBQUMsRUFBQUcsQ0FHQUMsR0FBQUMsTUFDQTNCLElBQUFBLElBRUE0QixLQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQUgsRUFBQUksU0FBQUMsT0FBQSxHQUFBRixLQUNBRyxTQUFBQyxJQUFBSixFQUNBLEtBQUEsR0FBQUssS0FBQUwsR0FBQSxDQUNBLEdBQUFNLEdBQUFOLEVBQUFLLEdBQUFDLE1BRUEzQyxFQUFBLEdBQUFkLFFBQUFDLEtBQUFjLFFBQ0FDLFNBQUEsR0FBQWhCLFFBQUFDLEtBQUF5RCxPQUFBRCxFQUFBbEQsU0FBQW1DLElBQUFlLEVBQUFsRCxTQUFBb0MsS0FDQTVDLElBQUFBLElBQ0FrQixNQUFBd0MsRUFBQUUsS0FDQXpDLE1BQ0FDLElBQUEsbUNBR0FlLG1CQUFBWCxLQUFBVCxNQUdBOEMsS0FBQSxTQUFBVixFQUFBRCxFQUFBWSxHQUNBUCxRQUFBQyxJQUFBLGNBQUFOLEVBQUEsaUJBQUFZLEtBRUFDLE9BQUEsU0FBQUMsRUFBQWQsRUFBQWUsR0FDQVYsUUFBQUMsSUFBQSx1REFBQU4sS0ExTEEsR0FBQWxELEtBR0FVLFNBRUF3RCxZQUFBLFFBQ0FDLFVBQ0FDLE1BQUEsY0FHQUYsWUFBQSxpQkFDQUcsWUFBQSxxQkFDQUYsVUFDQUMsTUFBQSxZQUNBRSxPQUFBLE1BR0FKLFlBQUEsaUJBQ0FHLFlBQUEsbUJBQ0FGLFVBQ0FDLE1BQUEsY0FHQUYsWUFBQSxlQUNBRyxZQUFBLGtCQUNBRixVQUNBQyxNQUFBLFlBQ0FHLFdBQUEsT0FHQUwsWUFBQSxrQkFDQUMsVUFDQUcsT0FBQSxJQUNBRSxJQUFBLGNBR0FOLFlBQUEsZUFDQUcsWUFBQSxjQUNBRixVQUNBTSxXQUFBLFVBR0FQLFlBQUEsUUFDQUcsWUFBQSxxQkFDQUYsVUFDQUksVUFBQSxRQUdBTCxZQUFBLFFBQ0FHLFlBQUEsbUJBQ0FGLFVBQ0FJLFdBQUEsUUFHQUwsWUFBQSxNQUNBRyxZQUFBLFdBQ0FGLFVBQ0FNLFdBQUEsT0FDQUwsTUFBQSxjQUdBRixZQUFBLGVBQ0FHLFlBQUEsZ0JBQ0FGLFVBQ0FDLE1BQUEsWUFDQUcsV0FBQSxPQUtBM0MsV0FBQSxLQTJEQU8iLCJmaWxlIjoidmlldy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBzdW5yaXNlMjA3NSBvbiAyMDE3LzIvMjYuXHJcbiAqL1xyXG52YXIgbWFwO1xyXG5cclxuLy8gQ3JlYXRlIGEgc3R5bGVzIGFycmF5IHRvIHVzZSB3aXRoIHRoZSBtYXAuXHJcbnZhciBzdHlsZXMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICd3YXRlcicsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGNvbG9yOiAnIzE5YTBkOCcgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAnYWRtaW5pc3RyYXRpdmUnLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuc3Ryb2tlJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgY29sb3I6ICcjZmZmZmZmJyB9LFxyXG4gICAgICAgICAgICB7IHdlaWdodDogNiB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICdhZG1pbmlzdHJhdGl2ZScsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5maWxsJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgY29sb3I6ICcjZTg1MTEzJyB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICdyb2FkLmhpZ2h3YXknLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnZ2VvbWV0cnkuc3Ryb2tlJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgY29sb3I6ICcjZWZlOWU0JyB9LFxyXG4gICAgICAgICAgICB7IGxpZ2h0bmVzczogLTQwIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3RyYW5zaXQuc3RhdGlvbicsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IHdlaWdodDogOSB9LFxyXG4gICAgICAgICAgICB7IGh1ZTogJyNlODUxMTMnIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3JvYWQuaGlnaHdheScsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMuaWNvbicsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IHZpc2liaWxpdHk6ICdvZmYnIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3dhdGVyJyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2xhYmVscy50ZXh0LnN0cm9rZScsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGxpZ2h0bmVzczogMTAwIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3dhdGVyJyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2xhYmVscy50ZXh0LmZpbGwnLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBsaWdodG5lc3M6IC0xMDAgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAncG9pJyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2dlb21ldHJ5JyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgdmlzaWJpbGl0eTogJ29uJyB9LFxyXG4gICAgICAgICAgICB7IGNvbG9yOiAnI2YwZTRkMycgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAncm9hZC5oaWdod2F5JyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2dlb21ldHJ5LmZpbGwnLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBjb2xvcjogJyNlZmU5ZTQnIH0sXHJcbiAgICAgICAgICAgIHsgbGlnaHRuZXNzOiAtMjUgfVxyXG4gICAgICAgIF1cclxuICAgIH1cclxuXTtcclxuLy9jYWNoZSBpbmZvV2luZG93IG9iamVjdCBhcyBnbG9iYWwgdmFyaWFibGVcclxudmFyIGluZm9XaW5kb3cgPSBudWxsO1xyXG5cclxuLy9nb29nbGUgbWFwIEFQSSBjYWxsYmFjayBmdW5jdGlvblxyXG5mdW5jdGlvbiBpbml0TWFwKCl7XHJcbiAgICBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAtY2FudmFzJyksIHtcclxuICAgICAgICB6b29tOiAxMSxcclxuICAgICAgICBjZW50ZXI6IGNlbnRlci5sb2NhdGlvblxyXG4gICAgfSk7XHJcblxyXG4gICAgbWFwLnNldE9wdGlvbnMoe3N0eWxlczogc3R5bGVzfSk7XHJcblxyXG4gICAgLy9pbml0aWFsaXplIG1hcmtlcnMgb24gdGhlIG1hcFxyXG4gICAgdmFyIG1hcmtlcnMgPSBbXTtcclxuICAgIGdlb0xvY2F0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGxvYyl7XHJcbiAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogbG9jLmxvY2F0aW9uLFxyXG4gICAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgICAgdGl0bGU6IGxvYy50aXRsZSxcclxuICAgICAgICAgICAgaWNvbjoge1xyXG4gICAgICAgICAgICAgICAgdXJsOiBsb2MuaWNvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWFya2VyLmFkZExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL2hhdmUgdGhlICBtYXJrZXIgYm91bmNlIGZvciBhIGxpbWl0ZWQgdGltZXNcclxuICAgICAgICAgICAgbWFya2VyLnNldEFuaW1hdGlvbig0KTtcclxuICAgICAgICAgICAgb3BlbkluZm9XaW5kb3cobWFya2VyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtYXJrZXJzLnB1c2gobWFya2VyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vaW52b2tlIGZ1bmN0aW9uIHRvIGFwcGx5IGtub2Nrb3V0IGJpbmRpbmdzXHJcbiAgICBpbml0S29WaWV3TW9kZWw0QXBwKG1hcmtlcnMpO1xyXG59XHJcblxyXG4vKlxyXG4qIEBkZXNjcmlwdGlvbjogb3BlbiBpbmZvIHdpbmRvdyBmb3JcclxuKiAgICAgICAgICAgICAgdGhlIGdpdmVuIGdvb2dsZSBtYXAgbWFya2VyXHJcbiogQHBhcmFtICBtYXJrZXIgdGhlIG9iamVjdCBvZiBtYXJrZXJcclxuKiBAcmV0dXJuIHZvaWRcclxuKiAqL1xyXG5mdW5jdGlvbiBvcGVuSW5mb1dpbmRvdyhtYXJrZXIpe1xyXG4gICAgLy9xdWVyeSB0aGUgd2luZG93IGNvbnRlbnQgb2YgZ2l2ZW4gbWFya2VyXHJcbiAgICB2YXIgY29udGVudFN0cmluZyA9IHdpbmRvd0NvbnRlbnRzW21hcmtlci50aXRsZV1cclxuXHJcbiAgICAvL2NyZWF0ZSBhbiBpbmZvIHdpbmRvdyBvYmplY3RcclxuICAgIC8vb3Igc2V0IGNvbnRlbnQgb24gdGhlIGV4aXN0aW5nIGluZm8gd2luZG93XHJcbiAgICAvL3dlIG5lZWRuJ3QgY3JlYXRlIGluZm8gd2luZG93IG9iamVjdCByZXBlYXRlZGx5XHJcbiAgICBpZighaW5mb1dpbmRvdyl7XHJcbiAgICAgICAgaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcclxuICAgICAgICAgICAgY29udGVudDogY29udGVudFN0cmluZyxcclxuICAgICAgICAgICAgbWF4V2lkdGg6IDM1MFxyXG4gICAgICAgIH0pO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgaW5mb1dpbmRvdy5zZXRDb250ZW50KGNvbnRlbnRTdHJpbmcpO1xyXG4gICAgfVxyXG4gICAgLy9vcGVuIHRoZSBpbmZvIHdpbmRvdyBvbiB0aGUgZ29vZ2xlIG1hcFxyXG4gICAgaW5mb1dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcclxufVxyXG5cclxudmFyIGNvZmZlZVNob3BNYXJrZXJzID0gW107XHJcblxyXG5cclxuLypcclxuKiBAZGVzY3JpcHRpb246IGxvYWQgY29mZmVlIHNob3AgaW5mb3JtYXRpb25cclxuKiAgICAgICAgICAgICAgIGJ5IGZvdXJzcXVhcmUgYXBpXHJcbiogQHBhcmFtIG1hcmtlcjogdGhlIGNsaWNrZWQgbWFya2VyIG9iamVjdFxyXG4qIEByZXR1cm4gdm9pZFxyXG4qICovXHJcbmZ1bmN0aW9uIGxvYWRDb2ZmZWVTaG9wSW5mbyhtYXJrZXIpe1xyXG4gICAgLy9jbGVhciBvbGQgbWFya2Vyc1xyXG4gICAgY29mZmVlU2hvcE1hcmtlcnMuZm9yRWFjaChmdW5jdGlvbihjb2ZmZWVCYXJNYXJrZXIpe1xyXG4gICAgICAgIGNvZmZlZUJhck1hcmtlci5zZXRNYXAobnVsbCk7XHJcbiAgICB9KTtcclxuICAgIC8vZ3JhbnQgcGVybWlzc2lvbiBvZiByZWN5Y2xpbmcgdGhlIG9sZC1mYXNoaW9uZWQgb2JqZWN0cyB0byBqcyBlbmdpbmVcclxuICAgIGNvZmZlZVNob3BNYXJrZXJzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgLypcclxuICAgICogbmVpZ2hib3Job29kLW1hcFxyXG4gICAgIEFwcCBJbmZvcm1hdGlvblxyXG4gICAgKiAqL1xyXG4gICAgdmFyIGNsaWVudElkID0gJ1hCRVZSV00xSkdZT0IyV1M1TE1QTTM1QkpaRkFBTk9UQVBFRUdOTkhRNTJCRE9YVic7XHJcbiAgICB2YXIgY2xpZW50U2VjcmV0ID0gJ1AxWEJYVFNBR09LQVdNR1lJTUhPQUxHMU5TQlBPSllWWkxVQUQ1UlNRRUdKM01ONSc7XHJcblxyXG4gICAgLypcclxuICAgICogY29uY2F0ZW5hdGUgdGhlIHJlcXVlc3QgdXJsIHN0cmluZ1xyXG4gICAgKiAqL1xyXG4gICAgdmFyIGJhc2VVcmwgPSBcImh0dHBzOi8vYXBpLmZvdXJzcXVhcmUuY29tL3YyL3ZlbnVlcy9leHBsb3JlP1wiO1xyXG4gICAgdmFyIHF1ZXJ5UGFyYW1zID0gXCJsbD1cIisgbWFya2VyLnBvc2l0aW9uLmxhdCgpICtcIiUyQ1wiKyBtYXJrZXIucG9zaXRpb24ubG5nKCkgK1wiJnNlY3Rpb249Y29mZmVlJmxpbWl0PTEwJm5vdmVsdHk9bmV3XCI7XHJcbiAgICB2YXIgdXNlckluZm8gPSAnJmNsaWVudF9pZD0nICsgY2xpZW50SWQgKyAnJmNsaWVudF9zZWNyZXQ9JyArIGNsaWVudFNlY3JldCArIFwiJnY9MjAxNzAzMDhcIjtcclxuICAgIHZhciB1cmwgPSBiYXNlVXJsICsgcXVlcnlQYXJhbXMgKyB1c2VySW5mbztcclxuXHJcbiAgICAvL21ha2UgYWpheCByZXF1ZXN0IHRvIGZvdXJzcXVhcmUgYXBpXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybCA6IHVybFxyXG4gICAgLy9kbyByZXNwb25zZSBzdWNjZXNzIGhhbmRsaW5nXHJcbiAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWGhyKXtcclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gZGF0YS5yZXNwb25zZS5ncm91cHNbMF0uaXRlbXM7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW1zKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBpdGVtcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmVudWUgPSBpdGVtc1tpXS52ZW51ZTtcclxuICAgICAgICAgICAgICAgIC8vIHBsYWNlIHRoZSBhIG1hcmtlciBvbiB0aGUgbWFwXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcodmVudWUubG9jYXRpb24ubGF0LHZlbnVlLmxvY2F0aW9uLmxuZyksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBtYXAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHZlbnVlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiLi9kaXN0L2ltYWdlcy9jb2ZmZWUtbi10ZWEucG5nXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvZmZlZVNob3BNYXJrZXJzLnB1c2gobWFya2VyKTtcclxuICAgICAgICAgICAgfTtcclxuICAgIC8vZG8gcmVzcG9uc2UgZXJyb3IgaGFuZGxpbmdcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24oanFYaHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKXtcclxuICAgICAgICBjb25zb2xlLmxvZyggXCJ0ZXh0U3RhdHVzOlwiICsgdGV4dFN0YXR1cyArIFwiLCBlcnJvclRocm93bjpcIiArZXJyb3JUaHJvd24pO1xyXG4gICAgLy9kbyBhamF4IGxvZ2dpbmcgb24gdGhlIGJyb3dzZXIgY29uc29sZVxyXG4gICAgfSkuYWx3YXlzIChmdW5jdGlvbihqcVhIUk9yRGF0YSwgdGV4dFN0YXR1cywganFYSFJPckVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coIFwiYWpheCByZXF1ZXN0IHRvIGZvdXJzcXVhcmUgaXMgY29tcGxldGVkLCB0ZXh0U3RhdHVzOlwiICsgdGV4dFN0YXR1cyk7XHJcbiAgICB9KTs7XHJcblxyXG59XHJcblxyXG5cclxuXHJcbiJdfQ==
