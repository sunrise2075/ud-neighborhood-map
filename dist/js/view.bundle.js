function initMap(){map=new google.maps.Map(document.getElementById("map-canvas"),{zoom:INIT_ZOOM_NUM,center:center.location}),map.setOptions({styles:styles});var e=[];geoLocations.forEach(function(t){var o=new google.maps.Marker({position:t.location,map:map,title:t.title,icon:{url:t.icon}});o.addListener("click",function(){o.setAnimation(4),openInfoWindow(o)}),e.push(o)}),initKoViewModel4App(e)}function openInfoWindow(e){var t=windowContents[e.title];infoWindow?infoWindow.setContent(t):infoWindow=new google.maps.InfoWindow({content:t,maxWidth:350}),infoWindow.open(map,e)}function loadCoffeeShopInfo(e){coffeeShopMarkers.forEach(function(e){e.setMap(null)}),coffeeShopMarkers.length=0;var t="XBEVRWM1JGYOB2WS5LMPM35BJZFAANOTAPEEGNNHQ52BDOXV",o="P1XBXTSAGOKAWMGYIMHOALG1NSBPOJYVZLUAD5RSQEGJ3MN5",n="https://api.foursquare.com/v2/venues/explore?",i="ll="+e.position.lat()+"%2C"+e.position.lng()+"&section=coffee&limit=10&novelty=new",a="&client_id="+t+"&client_secret="+o+"&v=20170308",s=n+i+a;$.ajax({url:s}).done(function(e,t,o){var n=e.response.groups[0].items;console.log(n);for(var i in n){var a=n[i].venue,s=new google.maps.Marker({position:new google.maps.LatLng(a.location.lat,a.location.lng),map:map,title:a.name,icon:{url:"./dist/images/coffee-n-tea.png"}});coffeeShopMarkers.push(s)}}).fail(function(e,t,o){console.log("textStatus:"+t+", errorThrown:"+o)}).always(function(e,t,o){console.log("ajax request to foursquare is completed, textStatus:"+t)})}function zoomIn2Marker(e){map.setCenter(e.getPosition()),map.setZoom(DETAIL_ZOOM_NUM)}function zoomOut2InitStatus(){map.setCenter(center.location),map.setZoom(INIT_ZOOM_NUM)}var styles=[{featureType:"water",stylers:[{color:"#19a0d8"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#e85113"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-40}]},{featureType:"transit.station",stylers:[{weight:9},{hue:"#e85113"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#f0e4d3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-25}]}],map=null,infoWindow=null,INIT_ZOOM_NUM=11,DETAIL_ZOOM_NUM=14,coffeeShopMarkers=[];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC52aWV3LmpzIl0sIm5hbWVzIjpbImluaXRNYXAiLCJtYXAiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInpvb20iLCJJTklUX1pPT01fTlVNIiwiY2VudGVyIiwibG9jYXRpb24iLCJzZXRPcHRpb25zIiwic3R5bGVzIiwibWFya2VycyIsImdlb0xvY2F0aW9ucyIsImZvckVhY2giLCJsb2MiLCJtYXJrZXIiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInRpdGxlIiwiaWNvbiIsInVybCIsImFkZExpc3RlbmVyIiwic2V0QW5pbWF0aW9uIiwib3BlbkluZm9XaW5kb3ciLCJwdXNoIiwiaW5pdEtvVmlld01vZGVsNEFwcCIsImNvbnRlbnRTdHJpbmciLCJ3aW5kb3dDb250ZW50cyIsImluZm9XaW5kb3ciLCJzZXRDb250ZW50IiwiSW5mb1dpbmRvdyIsImNvbnRlbnQiLCJtYXhXaWR0aCIsIm9wZW4iLCJsb2FkQ29mZmVlU2hvcEluZm8iLCJjb2ZmZWVTaG9wTWFya2VycyIsImNvZmZlZUJhck1hcmtlciIsInNldE1hcCIsImxlbmd0aCIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0IiwiYmFzZVVybCIsInF1ZXJ5UGFyYW1zIiwibGF0IiwibG5nIiwidXNlckluZm8iLCIkIiwiYWpheCIsImRvbmUiLCJkYXRhIiwidGV4dFN0YXR1cyIsImpxWGhyIiwiaXRlbXMiLCJyZXNwb25zZSIsImdyb3VwcyIsImNvbnNvbGUiLCJsb2ciLCJpIiwidmVudWUiLCJMYXRMbmciLCJuYW1lIiwiZmFpbCIsImVycm9yVGhyb3duIiwiYWx3YXlzIiwianFYSFJPckRhdGEiLCJqcVhIUk9yRXJyb3JUaHJvd24iLCJ6b29tSW4yTWFya2VyIiwic2V0Q2VudGVyIiwiZ2V0UG9zaXRpb24iLCJzZXRab29tIiwiREVUQUlMX1pPT01fTlVNIiwiem9vbU91dDJJbml0U3RhdHVzIiwiZmVhdHVyZVR5cGUiLCJzdHlsZXJzIiwiY29sb3Ii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LGdCQUNBRixVQUNBQyxNQUFBLFlBQ0FHLFdBQUEsT0FNQTlFLElBQUEsS0FHQTZCLFdBQUEsS0FFQXRCLGNBQUEsR0FDQWdFLGdCQUFBLEdBMERBbkMiLCJmaWxlIjoidmlldy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBzdW5yaXNlMjA3NSBvbiAyMDE3LzIvMjYuXHJcbiAqL1xyXG4vLyBDcmVhdGUgYSBzdHlsZXMgYXJyYXkgdG8gdXNlIHdpdGggdGhlIG1hcC5cclxudmFyIHN0eWxlcyA9IFtcclxuICAgIHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3dhdGVyJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgY29sb3I6ICcjMTlhMGQ4JyB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICdhZG1pbmlzdHJhdGl2ZScsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5zdHJva2UnLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBjb2xvcjogJyNmZmZmZmYnIH0sXHJcbiAgICAgICAgICAgIHsgd2VpZ2h0OiA2IH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ2FkbWluaXN0cmF0aXZlJyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2xhYmVscy50ZXh0LmZpbGwnLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBjb2xvcjogJyNlODUxMTMnIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3JvYWQuaGlnaHdheScsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeS5zdHJva2UnLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBjb2xvcjogJyNlZmU5ZTQnIH0sXHJcbiAgICAgICAgICAgIHsgbGlnaHRuZXNzOiAtNDAgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAndHJhbnNpdC5zdGF0aW9uJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgd2VpZ2h0OiA5IH0sXHJcbiAgICAgICAgICAgIHsgaHVlOiAnI2U4NTExMycgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAncm9hZC5oaWdod2F5JyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2xhYmVscy5pY29uJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgdmlzaWJpbGl0eTogJ29mZicgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAnd2F0ZXInLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuc3Ryb2tlJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgbGlnaHRuZXNzOiAxMDAgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAnd2F0ZXInLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuZmlsbCcsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGxpZ2h0bmVzczogLTEwMCB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICdwb2knLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnZ2VvbWV0cnknLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyB2aXNpYmlsaXR5OiAnb24nIH0sXHJcbiAgICAgICAgICAgIHsgY29sb3I6ICcjZjBlNGQzJyB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICdyb2FkLmhpZ2h3YXknLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnZ2VvbWV0cnkuZmlsbCcsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGNvbG9yOiAnI2VmZTllNCcgfSxcclxuICAgICAgICAgICAgeyBsaWdodG5lc3M6IC0yNSB9XHJcbiAgICAgICAgXVxyXG4gICAgfVxyXG5dO1xyXG5cclxuLy9jYWNoZSBnb29nbGUgbWFwIG9iamVjdCBhcyBnbG9iYWwgdmFyaWFibGVcclxudmFyIG1hcCA9IG51bGw7XHJcblxyXG4vL2NhY2hlIGluZm9XaW5kb3cgb2JqZWN0IGFzIGdsb2JhbCB2YXJpYWJsZVxyXG52YXIgaW5mb1dpbmRvdyA9IG51bGw7XHJcblxyXG52YXIgSU5JVF9aT09NX05VTSA9IDExO1xyXG52YXIgREVUQUlMX1pPT01fTlVNID0gMTQ7XHJcblxyXG4vL2dvb2dsZSBtYXAgQVBJIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGluaXRNYXAoKXtcclxuICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC1jYW52YXMnKSwge1xyXG4gICAgICAgIHpvb206IElOSVRfWk9PTV9OVU0sXHJcbiAgICAgICAgY2VudGVyOiBjZW50ZXIubG9jYXRpb25cclxuICAgIH0pO1xyXG4gICAgbWFwLnNldE9wdGlvbnMoe3N0eWxlczogc3R5bGVzfSk7XHJcblxyXG4gICAgLy9pbml0aWFsaXplIG1hcmtlcnMgb24gdGhlIG1hcFxyXG4gICAgdmFyIG1hcmtlcnMgPSBbXTtcclxuICAgIGdlb0xvY2F0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGxvYyl7XHJcbiAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogbG9jLmxvY2F0aW9uLFxyXG4gICAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgICAgdGl0bGU6IGxvYy50aXRsZSxcclxuICAgICAgICAgICAgaWNvbjoge1xyXG4gICAgICAgICAgICAgICAgdXJsOiBsb2MuaWNvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWFya2VyLmFkZExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL2hhdmUgdGhlICBtYXJrZXIgYm91bmNlIGZvciBhIGxpbWl0ZWQgdGltZXNcclxuICAgICAgICAgICAgbWFya2VyLnNldEFuaW1hdGlvbig0KTtcclxuICAgICAgICAgICAgb3BlbkluZm9XaW5kb3cobWFya2VyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtYXJrZXJzLnB1c2gobWFya2VyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vaW52b2tlIGZ1bmN0aW9uIHRvIGFwcGx5IGtub2Nrb3V0IGJpbmRpbmdzXHJcbiAgICBpbml0S29WaWV3TW9kZWw0QXBwKG1hcmtlcnMpO1xyXG59XHJcblxyXG4vKlxyXG4qIEBkZXNjcmlwdGlvbjogb3BlbiBpbmZvIHdpbmRvdyBmb3JcclxuKiAgICAgICAgICAgICAgdGhlIGdpdmVuIGdvb2dsZSBtYXAgbWFya2VyXHJcbiogQHBhcmFtICBtYXJrZXIgdGhlIG9iamVjdCBvZiBtYXJrZXJcclxuKiBAcmV0dXJuIHZvaWRcclxuKiAqL1xyXG5mdW5jdGlvbiBvcGVuSW5mb1dpbmRvdyhtYXJrZXIpe1xyXG4gICAgLy9xdWVyeSB0aGUgd2luZG93IGNvbnRlbnQgb2YgZ2l2ZW4gbWFya2VyXHJcbiAgICB2YXIgY29udGVudFN0cmluZyA9IHdpbmRvd0NvbnRlbnRzW21hcmtlci50aXRsZV1cclxuXHJcbiAgICAvL2NyZWF0ZSBhbiBpbmZvIHdpbmRvdyBvYmplY3RcclxuICAgIC8vb3Igc2V0IGNvbnRlbnQgb24gdGhlIGV4aXN0aW5nIGluZm8gd2luZG93XHJcbiAgICAvL3dlIG5lZWRuJ3QgY3JlYXRlIGluZm8gd2luZG93IG9iamVjdCByZXBlYXRlZGx5XHJcbiAgICBpZighaW5mb1dpbmRvdyl7XHJcbiAgICAgICAgaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcclxuICAgICAgICAgICAgY29udGVudDogY29udGVudFN0cmluZyxcclxuICAgICAgICAgICAgbWF4V2lkdGg6IDM1MFxyXG4gICAgICAgIH0pO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgaW5mb1dpbmRvdy5zZXRDb250ZW50KGNvbnRlbnRTdHJpbmcpO1xyXG4gICAgfVxyXG4gICAgLy9vcGVuIHRoZSBpbmZvIHdpbmRvdyBvbiB0aGUgZ29vZ2xlIG1hcFxyXG4gICAgaW5mb1dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcclxufVxyXG5cclxudmFyIGNvZmZlZVNob3BNYXJrZXJzID0gW107XHJcblxyXG5cclxuLypcclxuKiBAZGVzY3JpcHRpb246IGxvYWQgY29mZmVlIHNob3AgaW5mb3JtYXRpb25cclxuKiAgICAgICAgICAgICAgIGJ5IGZvdXJzcXVhcmUgYXBpXHJcbiogQHBhcmFtIG1hcmtlcjogdGhlIGNsaWNrZWQgbWFya2VyIG9iamVjdFxyXG4qIEByZXR1cm4gdm9pZFxyXG4qICovXHJcbmZ1bmN0aW9uIGxvYWRDb2ZmZWVTaG9wSW5mbyhtYXJrZXIpe1xyXG4gICAgLy9jbGVhciBvbGQgbWFya2Vyc1xyXG4gICAgY29mZmVlU2hvcE1hcmtlcnMuZm9yRWFjaChmdW5jdGlvbihjb2ZmZWVCYXJNYXJrZXIpe1xyXG4gICAgICAgIGNvZmZlZUJhck1hcmtlci5zZXRNYXAobnVsbCk7XHJcbiAgICB9KTtcclxuICAgIC8vZ3JhbnQgcGVybWlzc2lvbiBvZiByZWN5Y2xpbmcgdGhlIG9sZC1mYXNoaW9uZWQgb2JqZWN0cyB0byBqcyBlbmdpbmVcclxuICAgIGNvZmZlZVNob3BNYXJrZXJzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgLypcclxuICAgICogbmVpZ2hib3Job29kLW1hcFxyXG4gICAgIEFwcCBJbmZvcm1hdGlvblxyXG4gICAgKiAqL1xyXG4gICAgdmFyIGNsaWVudElkID0gJ1hCRVZSV00xSkdZT0IyV1M1TE1QTTM1QkpaRkFBTk9UQVBFRUdOTkhRNTJCRE9YVic7XHJcbiAgICB2YXIgY2xpZW50U2VjcmV0ID0gJ1AxWEJYVFNBR09LQVdNR1lJTUhPQUxHMU5TQlBPSllWWkxVQUQ1UlNRRUdKM01ONSc7XHJcblxyXG4gICAgLypcclxuICAgICogY29uY2F0ZW5hdGUgdGhlIHJlcXVlc3QgdXJsIHN0cmluZ1xyXG4gICAgKiAqL1xyXG4gICAgdmFyIGJhc2VVcmwgPSBcImh0dHBzOi8vYXBpLmZvdXJzcXVhcmUuY29tL3YyL3ZlbnVlcy9leHBsb3JlP1wiO1xyXG4gICAgdmFyIHF1ZXJ5UGFyYW1zID0gXCJsbD1cIisgbWFya2VyLnBvc2l0aW9uLmxhdCgpICtcIiUyQ1wiKyBtYXJrZXIucG9zaXRpb24ubG5nKCkgK1wiJnNlY3Rpb249Y29mZmVlJmxpbWl0PTEwJm5vdmVsdHk9bmV3XCI7XHJcbiAgICB2YXIgdXNlckluZm8gPSAnJmNsaWVudF9pZD0nICsgY2xpZW50SWQgKyAnJmNsaWVudF9zZWNyZXQ9JyArIGNsaWVudFNlY3JldCArIFwiJnY9MjAxNzAzMDhcIjtcclxuICAgIHZhciB1cmwgPSBiYXNlVXJsICsgcXVlcnlQYXJhbXMgKyB1c2VySW5mbztcclxuXHJcbiAgICAvL21ha2UgYWpheCByZXF1ZXN0IHRvIGZvdXJzcXVhcmUgYXBpXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybCA6IHVybFxyXG4gICAgLy9kbyByZXNwb25zZSBzdWNjZXNzIGhhbmRsaW5nXHJcbiAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWGhyKXtcclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gZGF0YS5yZXNwb25zZS5ncm91cHNbMF0uaXRlbXM7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW1zKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBpdGVtcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmVudWUgPSBpdGVtc1tpXS52ZW51ZTtcclxuICAgICAgICAgICAgICAgIC8vIHBsYWNlIHRoZSBhIG1hcmtlciBvbiB0aGUgbWFwXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcodmVudWUubG9jYXRpb24ubGF0LHZlbnVlLmxvY2F0aW9uLmxuZyksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBtYXAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHZlbnVlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiLi9kaXN0L2ltYWdlcy9jb2ZmZWUtbi10ZWEucG5nXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvZmZlZVNob3BNYXJrZXJzLnB1c2gobWFya2VyKTtcclxuICAgICAgICAgICAgfTtcclxuICAgIC8vZG8gcmVzcG9uc2UgZXJyb3IgaGFuZGxpbmdcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24oanFYaHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKXtcclxuICAgICAgICBjb25zb2xlLmxvZyggXCJ0ZXh0U3RhdHVzOlwiICsgdGV4dFN0YXR1cyArIFwiLCBlcnJvclRocm93bjpcIiArZXJyb3JUaHJvd24pO1xyXG4gICAgLy9kbyBhamF4IGxvZ2dpbmcgb24gdGhlIGJyb3dzZXIgY29uc29sZVxyXG4gICAgfSkuYWx3YXlzIChmdW5jdGlvbihqcVhIUk9yRGF0YSwgdGV4dFN0YXR1cywganFYSFJPckVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coIFwiYWpheCByZXF1ZXN0IHRvIGZvdXJzcXVhcmUgaXMgY29tcGxldGVkLCB0ZXh0U3RhdHVzOlwiICsgdGV4dFN0YXR1cyk7XHJcbiAgICB9KTs7XHJcbn1cclxuXHJcbi8qXHJcbiogQGRlc2NyaXB0aW9uOiB6b29tIGluIGFuZCBzZXQgY2VudGVyIG9mIHRoZSBtYXBcclxuKiBAcGFyYW0gbWFya2VyIHRoZSBnaXZlbiBtYXJrZXJcclxuKiBAcmV0dXJuIHZvaWRcclxuKiAqL1xyXG5mdW5jdGlvbiB6b29tSW4yTWFya2VyKG1hcmtlcil7XHJcbiAgICBtYXAuc2V0Q2VudGVyKG1hcmtlci5nZXRQb3NpdGlvbigpKTtcclxuICAgIG1hcC5zZXRab29tKERFVEFJTF9aT09NX05VTSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHpvb21PdXQySW5pdFN0YXR1cygpe1xyXG4gICAgbWFwLnNldENlbnRlcihjZW50ZXIubG9jYXRpb24pO1xyXG4gICAgbWFwLnNldFpvb20oSU5JVF9aT09NX05VTSk7XHJcbn1cclxuXHJcblxyXG5cclxuIl19
