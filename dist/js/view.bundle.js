function initMap(){map=new google.maps.Map(document.getElementById("map-canvas"),{zoom:INIT_ZOOM_NUM,center:center.location}),map.setOptions({styles:styles});var e=[];geoLocations.forEach(function(o){var t=new google.maps.Marker({position:o.location,map:map,title:o.title,icon:{url:o.icon}});t.addListener("click",function(){t.setAnimation(4),openInfoWindow(t)}),e.push(t)}),initKoViewModel4App(e)}function openInfoWindow(e){var o=windowContents[e.title];infoWindow?infoWindow.setContent(o):infoWindow=new google.maps.InfoWindow({content:o,maxWidth:350}),infoWindow.open(map,e)}function loadCoffeeShopInfo(e){coffeeShopMarkers.forEach(function(e){e.setMap(null)}),coffeeShopMarkers.length=0;var o="XBEVRWM1JGYOB2WS5LMPM35BJZFAANOTAPEEGNNHQ52BDOXV",t="P1XBXTSAGOKAWMGYIMHOALG1NSBPOJYVZLUAD5RSQEGJ3MN5",n="https://api.foursquare.com/v2/venues/explore?",i="ll="+e.position.lat()+"%2C"+e.position.lng()+"&section=coffee&limit=10&novelty=new",a="&client_id="+o+"&client_secret="+t+"&v=20170308",l=n+i+a;$.ajax({url:l}).done(function(e,o,t){var n=e.response.groups[0].items;console.log(n);for(var i in n){var a=n[i].venue,l=new google.maps.Marker({position:new google.maps.LatLng(a.location.lat,a.location.lng),map:map,title:a.name,icon:{url:"./dist/images/coffee-n-tea.png"}});coffeeShopMarkers.push(l)}}).fail(function(e,o,t){console.log("textStatus:"+o+", errorThrown:"+t)}).always(function(e,o,t){console.log("ajax request to foursquare is completed, textStatus:"+o)})}function zoomIn2Marker(e){map.setCenter(e.getPosition()),map.setZoom(DETAIL_ZOOM_NUM)}var styles=[{featureType:"water",stylers:[{color:"#19a0d8"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#e85113"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-40}]},{featureType:"transit.station",stylers:[{weight:9},{hue:"#e85113"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#f0e4d3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-25}]}],map=null,infoWindow=null,INIT_ZOOM_NUM=11,DETAIL_ZOOM_NUM=12,coffeeShopMarkers=[];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC52aWV3LmpzIl0sIm5hbWVzIjpbImluaXRNYXAiLCJtYXAiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInpvb20iLCJJTklUX1pPT01fTlVNIiwiY2VudGVyIiwibG9jYXRpb24iLCJzZXRPcHRpb25zIiwic3R5bGVzIiwibWFya2VycyIsImdlb0xvY2F0aW9ucyIsImZvckVhY2giLCJsb2MiLCJtYXJrZXIiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInRpdGxlIiwiaWNvbiIsInVybCIsImFkZExpc3RlbmVyIiwic2V0QW5pbWF0aW9uIiwib3BlbkluZm9XaW5kb3ciLCJwdXNoIiwiaW5pdEtvVmlld01vZGVsNEFwcCIsImNvbnRlbnRTdHJpbmciLCJ3aW5kb3dDb250ZW50cyIsImluZm9XaW5kb3ciLCJzZXRDb250ZW50IiwiSW5mb1dpbmRvdyIsImNvbnRlbnQiLCJtYXhXaWR0aCIsIm9wZW4iLCJsb2FkQ29mZmVlU2hvcEluZm8iLCJjb2ZmZWVTaG9wTWFya2VycyIsImNvZmZlZUJhck1hcmtlciIsInNldE1hcCIsImxlbmd0aCIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0IiwiYmFzZVVybCIsInF1ZXJ5UGFyYW1zIiwibGF0IiwibG5nIiwidXNlckluZm8iLCIkIiwiYWpheCIsImRvbmUiLCJkYXRhIiwidGV4dFN0YXR1cyIsImpxWGhyIiwiaXRlbXMiLCJyZXNwb25zZSIsImdyb3VwcyIsImNvbnNvbGUiLCJsb2ciLCJpIiwidmVudWUiLCJMYXRMbmciLCJuYW1lIiwiZmFpbCIsImVycm9yVGhyb3duIiwiYWx3YXlzIiwianFYSFJPckRhdGEiLCJqcVhIUk9yRXJyb3JUaHJvd24iLCJ6b29tSW4yTWFya2VyIiwic2V0Q2VudGVyIiwiZ2V0UG9zaXRpb24iLCJzZXRab29tIiwiREVUQUlMX1pPT01fTlVNIiwiZmVhdHVyZVR5cGUiLCJzdHlsZXJzIiwiY29sb3IiLCJlbGVtZW50VHlwZSIsIndlaWdodCIsImxpZ2h0bmVzcyIsImh1ZSIsInZpc2liaWxpdHkiXSwibWFwcGluZ3MiOiJBQWlGQSxRQUFBQSxXQUNBQyxJQUFBLEdBQUFDLFFBQUFDLEtBQUFDLElBQUFDLFNBQUFDLGVBQUEsZUFDQUMsS0FBQUMsY0FDQUMsT0FBQUEsT0FBQUMsV0FFQVQsSUFBQVUsWUFBQUMsT0FBQUEsUUFHQSxJQUFBQyxLQUNBQyxjQUFBQyxRQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQSxHQUFBZixRQUFBQyxLQUFBZSxRQUNBQyxTQUFBSCxFQUFBTixTQUNBVCxJQUFBQSxJQUNBbUIsTUFBQUosRUFBQUksTUFDQUMsTUFDQUMsSUFBQU4sRUFBQUssT0FHQUosR0FBQU0sWUFBQSxRQUFBLFdBRUFOLEVBQUFPLGFBQUEsR0FDQUMsZUFBQVIsS0FFQUosRUFBQWEsS0FBQVQsS0FJQVUsb0JBQUFkLEdBU0EsUUFBQVksZ0JBQUFSLEdBRUEsR0FBQVcsR0FBQUMsZUFBQVosRUFBQUcsTUFLQVUsWUFNQUEsV0FBQUMsV0FBQUgsR0FMQUUsV0FBQSxHQUFBNUIsUUFBQUMsS0FBQTZCLFlBQ0FDLFFBQUFMLEVBQ0FNLFNBQUEsTUFNQUosV0FBQUssS0FBQWxDLElBQUFnQixHQVlBLFFBQUFtQixvQkFBQW5CLEdBRUFvQixrQkFBQXRCLFFBQUEsU0FBQXVCLEdBQ0FBLEVBQUFDLE9BQUEsUUFHQUYsa0JBQUFHLE9BQUEsQ0FNQSxJQUFBQyxHQUFBLG1EQUNBQyxFQUFBLG1EQUtBQyxFQUFBLGdEQUNBQyxFQUFBLE1BQUEzQixFQUFBRSxTQUFBMEIsTUFBQSxNQUFBNUIsRUFBQUUsU0FBQTJCLE1BQUEsdUNBQ0FDLEVBQUEsY0FBQU4sRUFBQSxrQkFBQUMsRUFBQSxjQUNBcEIsRUFBQXFCLEVBQUFDLEVBQUFHLENBR0FDLEdBQUFDLE1BQ0EzQixJQUFBQSxJQUVBNEIsS0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUFILEVBQUFJLFNBQUFDLE9BQUEsR0FBQUYsS0FDQUcsU0FBQUMsSUFBQUosRUFDQSxLQUFBLEdBQUFLLEtBQUFMLEdBQUEsQ0FDQSxHQUFBTSxHQUFBTixFQUFBSyxHQUFBQyxNQUVBM0MsRUFBQSxHQUFBZixRQUFBQyxLQUFBZSxRQUNBQyxTQUFBLEdBQUFqQixRQUFBQyxLQUFBMEQsT0FBQUQsRUFBQWxELFNBQUFtQyxJQUFBZSxFQUFBbEQsU0FBQW9DLEtBQ0E3QyxJQUFBQSxJQUNBbUIsTUFBQXdDLEVBQUFFLEtBQ0F6QyxNQUNBQyxJQUFBLG1DQUdBZSxtQkFBQVgsS0FBQVQsTUFHQThDLEtBQUEsU0FBQVYsRUFBQUQsRUFBQVksR0FDQVAsUUFBQUMsSUFBQSxjQUFBTixFQUFBLGlCQUFBWSxLQUVBQyxPQUFBLFNBQUFDLEVBQUFkLEVBQUFlLEdBQ0FWLFFBQUFDLElBQUEsdURBQUFOLEtBU0EsUUFBQWdCLGVBQUFuRCxHQUNBaEIsSUFBQW9FLFVBQUFwRCxFQUFBcUQsZUFDQXJFLElBQUFzRSxRQUFBQyxpQkF4TUEsR0FBQTVELFVBRUE2RCxZQUFBLFFBQ0FDLFVBQ0FDLE1BQUEsY0FHQUYsWUFBQSxpQkFDQUcsWUFBQSxxQkFDQUYsVUFDQUMsTUFBQSxZQUNBRSxPQUFBLE1BR0FKLFlBQUEsaUJBQ0FHLFlBQUEsbUJBQ0FGLFVBQ0FDLE1BQUEsY0FHQUYsWUFBQSxlQUNBRyxZQUFBLGtCQUNBRixVQUNBQyxNQUFBLFlBQ0FHLFdBQUEsT0FHQUwsWUFBQSxrQkFDQUMsVUFDQUcsT0FBQSxJQUNBRSxJQUFBLGNBR0FOLFlBQUEsZUFDQUcsWUFBQSxjQUNBRixVQUNBTSxXQUFBLFVBR0FQLFlBQUEsUUFDQUcsWUFBQSxxQkFDQUYsVUFDQUksVUFBQSxRQUdBTCxZQUFBLFFBQ0FHLFlBQUEsbUJBQ0FGLFVBQ0FJLFdBQUEsUUFHQUwsWUFBQSxNQUNBRyxZQUFBLFdBQ0FGLFVBQ0FNLFdBQUEsT0FDQUwsTUFBQSxjQUdBRixZQUFBLGVBQ0FHLFlBQUEsZ0JBQ0FGLFVBQ0FDLE1BQUEsWUFDQUcsV0FBQSxPQU1BN0UsSUFBQSxLQUdBNkIsV0FBQSxLQUVBdEIsY0FBQSxHQUNBZ0UsZ0JBQUEsR0EwREFuQyIsImZpbGUiOiJ2aWV3LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHN1bnJpc2UyMDc1IG9uIDIwMTcvMi8yNi5cclxuICovXHJcbi8vIENyZWF0ZSBhIHN0eWxlcyBhcnJheSB0byB1c2Ugd2l0aCB0aGUgbWFwLlxyXG52YXIgc3R5bGVzID0gW1xyXG4gICAge1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAnd2F0ZXInLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBjb2xvcjogJyMxOWEwZDgnIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ2FkbWluaXN0cmF0aXZlJyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2xhYmVscy50ZXh0LnN0cm9rZScsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGNvbG9yOiAnI2ZmZmZmZicgfSxcclxuICAgICAgICAgICAgeyB3ZWlnaHQ6IDYgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAnYWRtaW5pc3RyYXRpdmUnLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuZmlsbCcsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGNvbG9yOiAnI2U4NTExMycgfVxyXG4gICAgICAgIF1cclxuICAgIH0se1xyXG4gICAgICAgIGZlYXR1cmVUeXBlOiAncm9hZC5oaWdod2F5JyxcclxuICAgICAgICBlbGVtZW50VHlwZTogJ2dlb21ldHJ5LnN0cm9rZScsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IGNvbG9yOiAnI2VmZTllNCcgfSxcclxuICAgICAgICAgICAgeyBsaWdodG5lc3M6IC00MCB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICd0cmFuc2l0LnN0YXRpb24nLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyB3ZWlnaHQ6IDkgfSxcclxuICAgICAgICAgICAgeyBodWU6ICcjZTg1MTEzJyB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICdyb2FkLmhpZ2h3YXknLFxyXG4gICAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLmljb24nLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyB2aXNpYmlsaXR5OiAnb2ZmJyB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICd3YXRlcicsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5zdHJva2UnLFxyXG4gICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAgeyBsaWdodG5lc3M6IDEwMCB9XHJcbiAgICAgICAgXVxyXG4gICAgfSx7XHJcbiAgICAgICAgZmVhdHVyZVR5cGU6ICd3YXRlcicsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5maWxsJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgbGlnaHRuZXNzOiAtMTAwIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3BvaScsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeScsXHJcbiAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7IHZpc2liaWxpdHk6ICdvbicgfSxcclxuICAgICAgICAgICAgeyBjb2xvcjogJyNmMGU0ZDMnIH1cclxuICAgICAgICBdXHJcbiAgICB9LHtcclxuICAgICAgICBmZWF0dXJlVHlwZTogJ3JvYWQuaGlnaHdheScsXHJcbiAgICAgICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeS5maWxsJyxcclxuICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHsgY29sb3I6ICcjZWZlOWU0JyB9LFxyXG4gICAgICAgICAgICB7IGxpZ2h0bmVzczogLTI1IH1cclxuICAgICAgICBdXHJcbiAgICB9XHJcbl07XHJcblxyXG4vL2NhY2hlIGdvb2dsZSBtYXAgb2JqZWN0IGFzIGdsb2JhbCB2YXJpYWJsZVxyXG52YXIgbWFwID0gbnVsbDtcclxuXHJcbi8vY2FjaGUgaW5mb1dpbmRvdyBvYmplY3QgYXMgZ2xvYmFsIHZhcmlhYmxlXHJcbnZhciBpbmZvV2luZG93ID0gbnVsbDtcclxuXHJcbnZhciBJTklUX1pPT01fTlVNID0gMTE7XHJcbnZhciBERVRBSUxfWk9PTV9OVU0gPSAxMjtcclxuXHJcbi8vZ29vZ2xlIG1hcCBBUEkgY2FsbGJhY2sgZnVuY3Rpb25cclxuZnVuY3Rpb24gaW5pdE1hcCgpe1xyXG4gICAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLWNhbnZhcycpLCB7XHJcbiAgICAgICAgem9vbTogSU5JVF9aT09NX05VTSxcclxuICAgICAgICBjZW50ZXI6IGNlbnRlci5sb2NhdGlvblxyXG4gICAgfSk7XHJcbiAgICBtYXAuc2V0T3B0aW9ucyh7c3R5bGVzOiBzdHlsZXN9KTtcclxuXHJcbiAgICAvL2luaXRpYWxpemUgbWFya2VycyBvbiB0aGUgbWFwXHJcbiAgICB2YXIgbWFya2VycyA9IFtdO1xyXG4gICAgZ2VvTG9jYXRpb25zLmZvckVhY2goZnVuY3Rpb24obG9jKXtcclxuICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBsb2MubG9jYXRpb24sXHJcbiAgICAgICAgICAgIG1hcDogbWFwLFxyXG4gICAgICAgICAgICB0aXRsZTogbG9jLnRpdGxlLFxyXG4gICAgICAgICAgICBpY29uOiB7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGxvYy5pY29uXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vaGF2ZSB0aGUgIG1hcmtlciBib3VuY2UgZm9yIGEgbGltaXRlZCB0aW1lc1xyXG4gICAgICAgICAgICBtYXJrZXIuc2V0QW5pbWF0aW9uKDQpO1xyXG4gICAgICAgICAgICBvcGVuSW5mb1dpbmRvdyhtYXJrZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1hcmtlcnMucHVzaChtYXJrZXIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9pbnZva2UgZnVuY3Rpb24gdG8gYXBwbHkga25vY2tvdXQgYmluZGluZ3NcclxuICAgIGluaXRLb1ZpZXdNb2RlbDRBcHAobWFya2Vycyk7XHJcbn1cclxuXHJcbi8qXHJcbiogQGRlc2NyaXB0aW9uOiBvcGVuIGluZm8gd2luZG93IGZvclxyXG4qICAgICAgICAgICAgICB0aGUgZ2l2ZW4gZ29vZ2xlIG1hcCBtYXJrZXJcclxuKiBAcGFyYW0gIG1hcmtlciB0aGUgb2JqZWN0IG9mIG1hcmtlclxyXG4qIEByZXR1cm4gdm9pZFxyXG4qICovXHJcbmZ1bmN0aW9uIG9wZW5JbmZvV2luZG93KG1hcmtlcil7XHJcbiAgICAvL3F1ZXJ5IHRoZSB3aW5kb3cgY29udGVudCBvZiBnaXZlbiBtYXJrZXJcclxuICAgIHZhciBjb250ZW50U3RyaW5nID0gd2luZG93Q29udGVudHNbbWFya2VyLnRpdGxlXVxyXG5cclxuICAgIC8vY3JlYXRlIGFuIGluZm8gd2luZG93IG9iamVjdFxyXG4gICAgLy9vciBzZXQgY29udGVudCBvbiB0aGUgZXhpc3RpbmcgaW5mbyB3aW5kb3dcclxuICAgIC8vd2UgbmVlZG4ndCBjcmVhdGUgaW5mbyB3aW5kb3cgb2JqZWN0IHJlcGVhdGVkbHlcclxuICAgIGlmKCFpbmZvV2luZG93KXtcclxuICAgICAgICBpbmZvV2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xyXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50U3RyaW5nLFxyXG4gICAgICAgICAgICBtYXhXaWR0aDogMzUwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBpbmZvV2luZG93LnNldENvbnRlbnQoY29udGVudFN0cmluZyk7XHJcbiAgICB9XHJcbiAgICAvL29wZW4gdGhlIGluZm8gd2luZG93IG9uIHRoZSBnb29nbGUgbWFwXHJcbiAgICBpbmZvV2luZG93Lm9wZW4obWFwLCBtYXJrZXIpO1xyXG59XHJcblxyXG52YXIgY29mZmVlU2hvcE1hcmtlcnMgPSBbXTtcclxuXHJcblxyXG4vKlxyXG4qIEBkZXNjcmlwdGlvbjogbG9hZCBjb2ZmZWUgc2hvcCBpbmZvcm1hdGlvblxyXG4qICAgICAgICAgICAgICAgYnkgZm91cnNxdWFyZSBhcGlcclxuKiBAcGFyYW0gbWFya2VyOiB0aGUgY2xpY2tlZCBtYXJrZXIgb2JqZWN0XHJcbiogQHJldHVybiB2b2lkXHJcbiogKi9cclxuZnVuY3Rpb24gbG9hZENvZmZlZVNob3BJbmZvKG1hcmtlcil7XHJcbiAgICAvL2NsZWFyIG9sZCBtYXJrZXJzXHJcbiAgICBjb2ZmZWVTaG9wTWFya2Vycy5mb3JFYWNoKGZ1bmN0aW9uKGNvZmZlZUJhck1hcmtlcil7XHJcbiAgICAgICAgY29mZmVlQmFyTWFya2VyLnNldE1hcChudWxsKTtcclxuICAgIH0pO1xyXG4gICAgLy9ncmFudCBwZXJtaXNzaW9uIG9mIHJlY3ljbGluZyB0aGUgb2xkLWZhc2hpb25lZCBvYmplY3RzIHRvIGpzIGVuZ2luZVxyXG4gICAgY29mZmVlU2hvcE1hcmtlcnMubGVuZ3RoID0gMDtcclxuXHJcbiAgICAvKlxyXG4gICAgKiBuZWlnaGJvcmhvb2QtbWFwXHJcbiAgICAgQXBwIEluZm9ybWF0aW9uXHJcbiAgICAqICovXHJcbiAgICB2YXIgY2xpZW50SWQgPSAnWEJFVlJXTTFKR1lPQjJXUzVMTVBNMzVCSlpGQUFOT1RBUEVFR05OSFE1MkJET1hWJztcclxuICAgIHZhciBjbGllbnRTZWNyZXQgPSAnUDFYQlhUU0FHT0tBV01HWUlNSE9BTEcxTlNCUE9KWVZaTFVBRDVSU1FFR0ozTU41JztcclxuXHJcbiAgICAvKlxyXG4gICAgKiBjb25jYXRlbmF0ZSB0aGUgcmVxdWVzdCB1cmwgc3RyaW5nXHJcbiAgICAqICovXHJcbiAgICB2YXIgYmFzZVVybCA9IFwiaHR0cHM6Ly9hcGkuZm91cnNxdWFyZS5jb20vdjIvdmVudWVzL2V4cGxvcmU/XCI7XHJcbiAgICB2YXIgcXVlcnlQYXJhbXMgPSBcImxsPVwiKyBtYXJrZXIucG9zaXRpb24ubGF0KCkgK1wiJTJDXCIrIG1hcmtlci5wb3NpdGlvbi5sbmcoKSArXCImc2VjdGlvbj1jb2ZmZWUmbGltaXQ9MTAmbm92ZWx0eT1uZXdcIjtcclxuICAgIHZhciB1c2VySW5mbyA9ICcmY2xpZW50X2lkPScgKyBjbGllbnRJZCArICcmY2xpZW50X3NlY3JldD0nICsgY2xpZW50U2VjcmV0ICsgXCImdj0yMDE3MDMwOFwiO1xyXG4gICAgdmFyIHVybCA9IGJhc2VVcmwgKyBxdWVyeVBhcmFtcyArIHVzZXJJbmZvO1xyXG5cclxuICAgIC8vbWFrZSBhamF4IHJlcXVlc3QgdG8gZm91cnNxdWFyZSBhcGlcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsIDogdXJsXHJcbiAgICAvL2RvIHJlc3BvbnNlIHN1Y2Nlc3MgaGFuZGxpbmdcclxuICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYaHIpe1xyXG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBkYXRhLnJlc3BvbnNlLmdyb3Vwc1swXS5pdGVtcztcclxuICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbXMpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIGl0ZW1zKXtcclxuICAgICAgICAgICAgICAgIHZhciB2ZW51ZSA9IGl0ZW1zW2ldLnZlbnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gcGxhY2UgdGhlIGEgbWFya2VyIG9uIHRoZSBtYXBcclxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh2ZW51ZS5sb2NhdGlvbi5sYXQsdmVudWUubG9jYXRpb24ubG5nKSxcclxuICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdmVudWUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCIuL2Rpc3QvaW1hZ2VzL2NvZmZlZS1uLXRlYS5wbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29mZmVlU2hvcE1hcmtlcnMucHVzaChtYXJrZXIpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgLy9kbyByZXNwb25zZSBlcnJvciBoYW5kbGluZ1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbihqcVhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCBcInRleHRTdGF0dXM6XCIgKyB0ZXh0U3RhdHVzICsgXCIsIGVycm9yVGhyb3duOlwiICtlcnJvclRocm93bik7XHJcbiAgICAvL2RvIGFqYXggbG9nZ2luZyBvbiB0aGUgYnJvd3NlciBjb25zb2xlXHJcbiAgICB9KS5hbHdheXMgKGZ1bmN0aW9uKGpxWEhST3JEYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUk9yRXJyb3JUaHJvd24pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyggXCJhamF4IHJlcXVlc3QgdG8gZm91cnNxdWFyZSBpcyBjb21wbGV0ZWQsIHRleHRTdGF0dXM6XCIgKyB0ZXh0U3RhdHVzKTtcclxuICAgIH0pOztcclxufVxyXG5cclxuLypcclxuKiBAZGVzY3JpcHRpb246IHpvb20gaW4gYW5kIHNldCBjZW50ZXIgb2YgdGhlIG1hcFxyXG4qIEBwYXJhbSBtYXJrZXIgdGhlIGdpdmVuIG1hcmtlclxyXG4qIEByZXR1cm4gdm9pZFxyXG4qICovXHJcbmZ1bmN0aW9uIHpvb21JbjJNYXJrZXIobWFya2VyKXtcclxuICAgIG1hcC5zZXRDZW50ZXIobWFya2VyLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgbWFwLnNldFpvb20oREVUQUlMX1pPT01fTlVNKTtcclxufVxyXG5cclxuXHJcblxyXG4iXX0=
