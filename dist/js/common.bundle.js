var EasyAutocomplete=function(t){return t.Configuration=function(t){function e(){if("xml"===t.dataType&&(t.getValue||(t.getValue=function(t){return $(t).text()}),t.list||(t.list={}),t.list.sort||(t.list.sort={}),t.list.sort.method=function(e,n){return e=t.getValue(e),n=t.getValue(n),e<n?-1:e>n?1:0},t.list.match||(t.list.match={}),t.list.match.method=function(t,e){return t.search(e)>-1}),void 0!==t.categories&&t.categories instanceof Array){for(var e=[],n=0,i=t.categories.length;n<i;n+=1){var o=t.categories[n];for(var a in s.categories[0])void 0===o[a]&&(o[a]=s.categories[0][a]);e.push(o)}t.categories=e}}function n(){function e(t,n){var i=t||{};for(var o in t)void 0!==n[o]&&null!==n[o]&&("object"!=typeof n[o]||n[o]instanceof Array?i[o]=n[o]:e(t[o],n[o]));return void 0!==n.data&&null!==n.data&&"object"==typeof n.data&&(i.data=n.data),i}s=e(s,t)}function i(){if("list-required"!==s.url&&"function"!=typeof s.url){var e=s.url;s.url=function(){return e}}if(void 0!==s.ajaxSettings.url&&"function"!=typeof s.ajaxSettings.url){var e=s.ajaxSettings.url;s.ajaxSettings.url=function(){return e}}if("string"==typeof s.listLocation){var n=s.listLocation;"XML"===s.dataType.toUpperCase()?s.listLocation=function(t){return $(t).find(n)}:s.listLocation=function(t){return t[n]}}if("string"==typeof s.getValue){var i=s.getValue;s.getValue=function(t){return t[i]}}void 0!==t.categories&&(s.categoriesAssigned=!0)}function o(){void 0!==t.ajaxSettings&&"object"==typeof t.ajaxSettings?s.ajaxSettings=t.ajaxSettings:s.ajaxSettings={}}function a(t){return void 0!==s[t]&&null!==s[t]}function r(t,e){function n(e,i){for(var o in i)void 0===e[o]&&t.log("Property '"+o+"' does not exist in EasyAutocomplete options API."),"object"==typeof e[o]&&$.inArray(o,c)===-1&&n(e[o],i[o])}n(s,e)}var s={data:"list-required",url:"list-required",dataType:"json",listLocation:function(t){return t},xmlElementName:"",getValue:function(t){return t},autocompleteOff:!0,placeholder:!1,ajaxCallback:function(){},matchResponseProperty:!1,list:{sort:{enabled:!1,method:function(t,e){return t=s.getValue(t),e=s.getValue(e),t<e?-1:t>e?1:0}},maxNumberOfElements:6,hideOnEmptyPhrase:!0,match:{enabled:!1,caseSensitive:!1,method:function(t,e){return t.search(e)>-1}},showAnimation:{type:"normal",time:400,callback:function(){}},hideAnimation:{type:"normal",time:400,callback:function(){}},onClickEvent:function(){},onSelectItemEvent:function(){},onLoadEvent:function(){},onChooseEvent:function(){},onKeyEnterEvent:function(){},onMouseOverEvent:function(){},onMouseOutEvent:function(){},onShowListEvent:function(){},onHideListEvent:function(){}},highlightPhrase:!0,theme:"",cssClasses:"",minCharNumber:0,requestDelay:0,adjustWidth:!0,ajaxSettings:{},preparePostData:function(t,e){return t},loggerEnabled:!0,template:"",categoriesAssigned:!1,categories:[{maxNumberOfElements:4}]},c=["ajaxSettings","template"];this.get=function(t){return s[t]},this.equals=function(t,e){return!(!a(t)||s[t]!==e)},this.checkDataUrlProperties=function(){return"list-required"!==s.url||"list-required"!==s.data},this.checkRequiredProperties=function(){for(var t in s)if("required"===s[t])return logger.error("Option "+t+" must be defined"),!1;return!0},this.printPropertiesThatDoesntExist=function(t,e){r(t,e)},e(),n(),s.loggerEnabled===!0&&r(console,t),o(),i()},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.Logger=function(){this.error=function(t){console.log("ERROR: "+t)},this.warning=function(t){console.log("WARNING: "+t)}},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.Constans=function(){var t={CONTAINER_CLASS:"easy-autocomplete-container",CONTAINER_ID:"eac-container-",WRAPPER_CSS_CLASS:"easy-autocomplete",CACHED_DROPDOWN_DATA:null};this.getValue=function(e){return t[e]}},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.ListBuilderService=function(t,e){function n(e,n){function i(){var i,o={};return void 0!==e.xmlElementName&&(o.xmlElementName=e.xmlElementName),void 0!==e.listLocation?i=e.listLocation:void 0!==t.get("listLocation")&&(i=t.get("listLocation")),void 0!==i?"string"==typeof i?o.data=$(n).find(i):"function"==typeof i&&(o.data=i(n)):o.data=n,o}function o(){var t={};return void 0!==e.listLocation?"string"==typeof e.listLocation?t.data=n[e.listLocation]:"function"==typeof e.listLocation&&(t.data=e.listLocation(n)):t.data=n,t}var a={};if(a="XML"===t.get("dataType").toUpperCase()?i():o(),void 0!==e.header&&(a.header=e.header),void 0!==e.maxNumberOfElements&&(a.maxNumberOfElements=e.maxNumberOfElements),void 0!==t.get("list").maxNumberOfElements&&(a.maxListSize=t.get("list").maxNumberOfElements),void 0!==e.getValue)if("string"==typeof e.getValue){var r=e.getValue;a.getValue=function(t){return t[r]}}else"function"==typeof e.getValue&&(a.getValue=e.getValue);else a.getValue=t.get("getValue");return a}function i(e){var n=[];return void 0===e.xmlElementName&&(e.xmlElementName=t.get("xmlElementName")),$(e.data).find(e.xmlElementName).each(function(){n.push(this)}),n}this.init=function(e){var n=[],i={};return i.data=t.get("listLocation")(e),i.getValue=t.get("getValue"),i.maxListSize=t.get("list").maxNumberOfElements,n.push(i),n},this.updateCategories=function(e,i){if(t.get("categoriesAssigned")){e=[];for(var o=0;o<t.get("categories").length;o+=1){var a=n(t.get("categories")[o],i);e.push(a)}}return e},this.convertXml=function(e){if("XML"===t.get("dataType").toUpperCase())for(var n=0;n<e.length;n+=1)e[n].data=i(e[n]);return e},this.processData=function(n,i){for(var o=0,a=n.length;o<a;o+=1)n[o].data=e(t,n[o],i);return n},this.checkIfDataExists=function(t){for(var e=0,n=t.length;e<n;e+=1)if(void 0!==t[e].data&&t[e].data instanceof Array&&t[e].data.length>0)return!0;return!1}},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.proccess=function(e,n,i){function o(t,n){var i=[],o="";if(e.get("list").match.enabled)for(var r=0,s=t.length;r<s;r+=1)o=e.get("getValue")(t[r]),a(o,n)&&i.push(t[r]);else i=t;return i}function a(t,n){return e.get("list").match.caseSensitive||("string"==typeof t&&(t=t.toLowerCase()),n=n.toLowerCase()),!!e.get("list").match.method(t,n)}function r(t){return void 0!==n.maxNumberOfElements&&t.length>n.maxNumberOfElements&&(t=t.slice(0,n.maxNumberOfElements)),t}function s(t){return e.get("list").sort.enabled&&t.sort(e.get("list").sort.method),t}t.proccess.match=a;var c=n.data,u=i;return c=o(c,u),c=r(c),c=s(c)},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.Template=function(t){var e={basic:{type:"basic",method:function(t){return t},cssClass:""},description:{type:"description",fields:{description:"description"},method:function(t){return t+" - description"},cssClass:"eac-description"},iconLeft:{type:"iconLeft",fields:{icon:""},method:function(t){return t},cssClass:"eac-icon-left"},iconRight:{type:"iconRight",fields:{iconSrc:""},method:function(t){return t},cssClass:"eac-icon-right"},links:{type:"links",fields:{link:""},method:function(t){return t},cssClass:""},custom:{type:"custom",method:function(){},cssClass:""}},n=function(t){var n,i=t.fields;return"description"===t.type?(n=e.description.method,"string"==typeof i.description?n=function(t,e){return t+" - <span>"+e[i.description]+"</span>"}:"function"==typeof i.description&&(n=function(t,e){return t+" - <span>"+i.description(e)+"</span>"}),n):"iconRight"===t.type?("string"==typeof i.iconSrc?n=function(t,e){return t+"<img class='eac-icon' src='"+e[i.iconSrc]+"' />"}:"function"==typeof i.iconSrc&&(n=function(t,e){return t+"<img class='eac-icon' src='"+i.iconSrc(e)+"' />"}),n):"iconLeft"===t.type?("string"==typeof i.iconSrc?n=function(t,e){return"<img class='eac-icon' src='"+e[i.iconSrc]+"' />"+t}:"function"==typeof i.iconSrc&&(n=function(t,e){return"<img class='eac-icon' src='"+i.iconSrc(e)+"' />"+t}),n):"links"===t.type?("string"==typeof i.link?n=function(t,e){return"<a href='"+e[i.link]+"' >"+t+"</a>"}:"function"==typeof i.link&&(n=function(t,e){return"<a href='"+i.link(e)+"' >"+t+"</a>"}),n):"custom"===t.type?t.method:e.basic.method},i=function(t){return t&&t.type&&t.type&&e[t.type]?n(t):e.basic.method},o=function(t){var n=function(){return""};return t&&t.type&&t.type&&e[t.type]?function(){var n=e[t.type].cssClass;return function(){return n}}():n};this.getTemplateClass=o(t),this.build=i(t)},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.main=function(e,n){function i(){return 0===E.length?void p.error("Input field doesn't exist."):m.checkDataUrlProperties()?m.checkRequiredProperties()?(o(),void r()):void p.error("Will not work without mentioned properties."):void p.error("One of options variables 'data' or 'url' must be defined.")}function o(){function t(){var t=$("<div>"),n=g.getValue("WRAPPER_CSS_CLASS");m.get("theme")&&""!==m.get("theme")&&(n+=" eac-"+m.get("theme")),m.get("cssClasses")&&""!==m.get("cssClasses")&&(n+=" "+m.get("cssClasses")),""!==h.getTemplateClass()&&(n+=" "+h.getTemplateClass()),t.addClass(n),E.wrap(t),m.get("adjustWidth")===!0&&e()}function e(){var t=E.outerWidth();E.parent().css("width",t)}function n(){E.unwrap()}function i(){var t=$("<div>").addClass(g.getValue("CONTAINER_CLASS"));t.attr("id",a()).prepend($("<ul>")),function(){t.on("show.eac",function(){switch(m.get("list").showAnimation.type){case"slide":var e=m.get("list").showAnimation.time,n=m.get("list").showAnimation.callback;t.find("ul").slideDown(e,n);break;case"fade":var e=m.get("list").showAnimation.time,n=m.get("list").showAnimation.callback;t.find("ul").fadeIn(e),n;break;default:t.find("ul").show()}m.get("list").onShowListEvent()}).on("hide.eac",function(){switch(m.get("list").hideAnimation.type){case"slide":var e=m.get("list").hideAnimation.time,n=m.get("list").hideAnimation.callback;t.find("ul").slideUp(e,n);break;case"fade":var e=m.get("list").hideAnimation.time,n=m.get("list").hideAnimation.callback;t.find("ul").fadeOut(e,n);break;default:t.find("ul").hide()}m.get("list").onHideListEvent()}).on("selectElement.eac",function(){t.find("ul li").removeClass("selected"),t.find("ul li").eq(S).addClass("selected"),m.get("list").onSelectItemEvent()}).on("loadElements.eac",function(e,n,i){var o="",a=t.find("ul");a.empty().detach(),A=[];for(var s=0,c=0,l=n.length;c<l;c+=1){var f=n[c].data;if(filterdLocs=f,0!==f.length){void 0!==n[c].header&&n[c].header.length>0&&a.append("<div class='eac-category' >"+n[c].header+"</div>");for(var d=0,g=f.length;d<g&&s<n[c].maxListSize;d+=1)o=$("<li><div class='eac-item'></div></li>"),function(){var t=d,e=s,a=n[c].getValue(f[t]);o.find(" > div").on("click",function(){E.val(a).trigger("change"),S=e,u(e),m.get("list").onClickEvent(),m.get("list").onChooseEvent()}).mouseover(function(){S=e,u(e),m.get("list").onMouseOverEvent()}).mouseout(function(){m.get("list").onMouseOutEvent()}).html(h.build(r(a,i),f[t]))}(),a.append(o),A.push(f[d]),s+=1}}t.append(a),m.get("list").onLoadEvent()})}(),E.after(t)}function o(){E.next("."+g.getValue("CONTAINER_CLASS")).remove()}function r(t,e){return m.get("highlightPhrase")&&""!==e?c(t,e):t}function s(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function c(t,e){var n=s(e);return(t+"").replace(new RegExp("("+n+")","gi"),"<b>$1</b>")}E.parent().hasClass(g.getValue("WRAPPER_CSS_CLASS"))&&(o(),n()),t(),i(),C=$("#"+a()),m.get("placeholder")&&E.attr("placeholder",m.get("placeholder"))}function a(){var t=E.attr("id");return t=g.getValue("CONTAINER_ID")+t}function r(){function t(){y("autocompleteOff",!0)&&g(),e(),n(),i(),o(),a(),r()}function e(){E.focusout(function(){var t,e=E.val();m.get("list").match.caseSensitive||(e=e.toLowerCase());for(var n=0,i=A.length;n<i;n+=1)if(t=m.get("getValue")(A[n]),m.get("list").match.caseSensitive||(t=t.toLowerCase()),t===e)return S=n,void u(S)})}function n(){E.off("keyup").keyup(function(t){function e(t){function e(){var t={},e=m.get("ajaxSettings")||{};for(var n in e)t[n]=e[n];return t}function n(t,e){return m.get("matchResponseProperty")===!1||("string"==typeof m.get("matchResponseProperty")?e[m.get("matchResponseProperty")]===t:"function"!=typeof m.get("matchResponseProperty")||m.get("matchResponseProperty")(e)===t)}if(!(t.length<m.get("minCharNumber"))){if("list-required"!==m.get("data")){var i=m.get("data"),o=v.init(i);o=v.updateCategories(o,i),o=v.processData(o,t),l(o,t),E.parent().find("li").length>0?s():c()}var a=e();if(void 0!==a.url&&""!==a.url||(a.url=m.get("url")),void 0!==a.dataType&&""!==a.dataType||(a.dataType=m.get("dataType")),void 0!==a.url&&"list-required"!==a.url&&void 0!==a.url&&"list-required"!==a.url)if(a.url=a.url(t),a.data=m.get("preparePostData")(a.data,t),rawLocations){var o=v.init(rawLocations);o=v.updateCategories(o,rawLocations),o=v.convertXml(o),n(t,rawLocations)&&(o=v.processData(o,t),l(o,t)),v.checkIfDataExists(o)&&E.parent().find("li").length>0?s():c(),m.get("ajaxCallback")()}else $.ajax(a).done(function(e){var i=v.init(e);i=v.updateCategories(i,e),i=v.convertXml(i),n(t,e)&&(i=v.processData(i,t),l(i,t)),v.checkIfDataExists(i)&&E.parent().find("li").length>0?s():c(),m.get("ajaxCallback")()}).fail(function(){p.warning("Fail to load response data")}).always(function(){})}}switch(t.keyCode){case 27:c(),f();break;case 38:t.preventDefault(),A.length>0&&S>0&&(S-=1,E.val(m.get("getValue")(A[S])),u(S));break;case 40:t.preventDefault(),A.length>0&&S<A.length-1&&(S+=1,E.val(m.get("getValue")(A[S])),u(S));break;default:if(32===t.keyCode||8===t.keyCode){var n=E.val();m.get("list").hideOnEmptyPhrase!==!0||8!==t.keyCode||""!==n?m.get("requestDelay")>0?(void 0!==d&&clearTimeout(d),d=setTimeout(function(){e(n)},m.get("requestDelay"))):e(n):c()}}})}function i(){E.on("keydown",function(t){t=t||window.event;var e=t.keyCode;if(38===e)return suppressKeypress=!0,!1}).keydown(function(t){13===t.keyCode&&S>-1&&(E.val(m.get("getValue")(A[S])),m.get("list").onKeyEnterEvent(),m.get("list").onChooseEvent(),S=-1,c(),t.preventDefault())})}function o(){E.off("keypress")}function a(){E.focus(function(){""!==E.val()&&A.length>0&&(S=-1,s())})}function r(){E.blur(function(){setTimeout(function(){S=-1,c()},250)})}function g(){E.attr("autocomplete","off")}t()}function s(){C.trigger("show.eac")}function c(){C.trigger("hide.eac")}function u(t){C.trigger("selectElement.eac",t)}function l(t,e){C.trigger("loadElements.eac",[t,e])}function f(){E.trigger("blur")}var d,g=new t.Constans,m=new t.Configuration(n),p=new t.Logger,h=new t.Template(n.template),v=new t.ListBuilderService(m,t.proccess),y=m.equals,E=e,C="",A=[],S=-1;t.consts=g,this.getConstants=function(){return g},this.getConfiguration=function(){return m},this.getContainer=function(){return C},this.getSelectedItemIndex=function(){return S},this.getItems=function(){return A},this.getItemData=function(t){return A.length<t||void 0===A[t]?-1:A[t]},this.getSelectedItemData=function(){return this.getItemData(S)},this.build=function(){o()},this.init=function(){i()}},t.eacHandles=[],t.getHandle=function(e){return t.eacHandles[e]},t.inputHasId=function(t){return void 0!==$(t).attr("id")&&$(t).attr("id").length>0},t.assignRandomId=function(e){var n="";do n="eac-"+Math.floor(1e4*Math.random());while(0!==$("#"+n).length);elementId=t.consts.getValue("CONTAINER_ID")+n,$(e).attr("id",n)},t.setHandle=function(e,n){t.eacHandles[n]=e},t}(EasyAutocomplete||{});!function(t){t.fn.easyAutocomplete=function(e){return this.each(function(){var n=t(this),i=new EasyAutocomplete.main(n,e);EasyAutocomplete.inputHasId(n)||EasyAutocomplete.assignRandomId(n),i.init(),EasyAutocomplete.setHandle(i,n.attr("id"))})},t.fn.getSelectedItemIndex=function(){var e=t(this).attr("id");return void 0!==e?EasyAutocomplete.getHandle(e).getSelectedItemIndex():-1},t.fn.getItems=function(){var e=t(this).attr("id");return void 0!==e?EasyAutocomplete.getHandle(e).getItems():-1},t.fn.getItemData=function(e){var n=t(this).attr("id");return void 0!==n&&e>-1?EasyAutocomplete.getHandle(n).getItemData(e):-1},t.fn.getSelectedItemData=function(){var e=t(this).attr("id");return void 0!==e?EasyAutocomplete.getHandle(e).getSelectedItemData():-1}}(jQuery),$(document).ready(function(){$(window).resize(function(){var t=$(window).height();$("#map-canvas").css("height",t)}).resize(),$("#menu-toggle").click(function(t){t.preventDefault(),$("#wrapper").toggleClass("toggled")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5lYXN5LWF1dG9jb21wbGV0ZS5qcyIsImxpYi5qcyJdLCJuYW1lcyI6WyJFYXN5QXV0b2NvbXBsZXRlIiwic2NvcGUiLCJDb25maWd1cmF0aW9uIiwib3B0aW9ucyIsInByZXBhcmVEZWZhdWx0cyIsImRhdGFUeXBlIiwiZ2V0VmFsdWUiLCJlbGVtZW50IiwiJCIsInRleHQiLCJsaXN0Iiwic29ydCIsIm1ldGhvZCIsImEiLCJiIiwibWF0Y2giLCJwaHJhc2UiLCJzZWFyY2giLCJ1bmRlZmluZWQiLCJjYXRlZ29yaWVzIiwiQXJyYXkiLCJpIiwibGVuZ3RoIiwiY2F0ZWdvcnkiLCJwcm9wZXJ0eSIsImRlZmF1bHRzIiwicHVzaCIsIm1lcmdlT3B0aW9ucyIsIm1lcmdlT2JqZWN0cyIsInNvdXJjZSIsInRhcmdldCIsIm1lcmdlZE9iamVjdCIsInByb3BlcnR5TmFtZSIsImRhdGEiLCJwcm9jZXNzQWZ0ZXJNZXJnZSIsInVybCIsImRlZmF1bHRVcmwiLCJhamF4U2V0dGluZ3MiLCJsaXN0TG9jYXRpb24iLCJkZWZhdWx0bGlzdExvY2F0aW9uIiwidG9VcHBlckNhc2UiLCJmaW5kIiwiZGVmYXVsdHNHZXRWYWx1ZSIsImNhdGVnb3JpZXNBc3NpZ25lZCIsImFkZEFqYXhTZXR0aW5ncyIsImlzQXNzaWduZWQiLCJuYW1lIiwicHJpbnRQcm9wZXJ0aWVzVGhhdERvZXNudEV4aXN0IiwiY29uc29sIiwib3B0aW9uc1RvQ2hlY2siLCJjaGVja1Byb3BlcnRpZXNJZkV4aXN0IiwibG9nIiwiaW5BcnJheSIsImV4dGVybmFsT2JqZWN0cyIsInhtbEVsZW1lbnROYW1lIiwiYXV0b2NvbXBsZXRlT2ZmIiwicGxhY2Vob2xkZXIiLCJhamF4Q2FsbGJhY2siLCJtYXRjaFJlc3BvbnNlUHJvcGVydHkiLCJlbmFibGVkIiwibWF4TnVtYmVyT2ZFbGVtZW50cyIsImhpZGVPbkVtcHR5UGhyYXNlIiwiY2FzZVNlbnNpdGl2ZSIsInNob3dBbmltYXRpb24iLCJ0eXBlIiwidGltZSIsImNhbGxiYWNrIiwiaGlkZUFuaW1hdGlvbiIsIm9uQ2xpY2tFdmVudCIsIm9uU2VsZWN0SXRlbUV2ZW50Iiwib25Mb2FkRXZlbnQiLCJvbkNob29zZUV2ZW50Iiwib25LZXlFbnRlckV2ZW50Iiwib25Nb3VzZU92ZXJFdmVudCIsIm9uTW91c2VPdXRFdmVudCIsIm9uU2hvd0xpc3RFdmVudCIsIm9uSGlkZUxpc3RFdmVudCIsImhpZ2hsaWdodFBocmFzZSIsInRoZW1lIiwiY3NzQ2xhc3NlcyIsIm1pbkNoYXJOdW1iZXIiLCJyZXF1ZXN0RGVsYXkiLCJhZGp1c3RXaWR0aCIsInByZXBhcmVQb3N0RGF0YSIsImlucHV0UGhyYXNlIiwibG9nZ2VyRW5hYmxlZCIsInRlbXBsYXRlIiwidGhpcyIsImdldCIsImVxdWFscyIsInZhbHVlIiwiY2hlY2tEYXRhVXJsUHJvcGVydGllcyIsImNoZWNrUmVxdWlyZWRQcm9wZXJ0aWVzIiwibG9nZ2VyIiwiZXJyb3IiLCJjb25zb2xlIiwiTG9nZ2VyIiwibWVzc2FnZSIsIndhcm5pbmciLCJDb25zdGFucyIsImNvbnN0YW50cyIsIkNPTlRBSU5FUl9DTEFTUyIsIkNPTlRBSU5FUl9JRCIsIldSQVBQRVJfQ1NTX0NMQVNTIiwiQ0FDSEVEX0RST1BET1dOX0RBVEEiLCJMaXN0QnVpbGRlclNlcnZpY2UiLCJjb25maWd1cmF0aW9uIiwicHJvY2Nlc3NSZXNwb25zZURhdGEiLCJjb252ZXJ0VG9MaXN0QnVpbGRlciIsImNvbnZlcnRYbWxUb0xpc3RCdWlsZGVyIiwiYnVpbGRlciIsImNvbnZlcnREYXRhVG9MaXN0QnVpbGRlciIsImhlYWRlciIsIm1heExpc3RTaXplIiwiY29udmVydFhtbFRvTGlzdCIsInNpbXBsZUxpc3QiLCJlYWNoIiwiaW5pdCIsImxpc3RCdWlsZGVyIiwidXBkYXRlQ2F0ZWdvcmllcyIsImNvbnZlcnRYbWwiLCJwcm9jZXNzRGF0YSIsImNoZWNrSWZEYXRhRXhpc3RzIiwibGlzdEJ1aWxkZXJzIiwicHJvY2Nlc3MiLCJjb25maWciLCJmaW5kTWF0Y2giLCJwcmVwYXJlZExpc3QiLCJ0b0xvd2VyQ2FzZSIsInJlZHVjZUVsZW1lbnRzSW5MaXN0Iiwic2xpY2UiLCJUZW1wbGF0ZSIsImdlbmVyaWNUZW1wbGF0ZXMiLCJiYXNpYyIsImNzc0NsYXNzIiwiZGVzY3JpcHRpb24iLCJmaWVsZHMiLCJpY29uTGVmdCIsImljb24iLCJpY29uUmlnaHQiLCJpY29uU3JjIiwibGlua3MiLCJsaW5rIiwiY3VzdG9tIiwiY29udmVydFRlbXBsYXRlVG9NZXRob2QiLCJidWlsZE1ldGhvZCIsIl9maWVsZHMiLCJlbGVtZW50VmFsdWUiLCJwcmVwYXJlQnVpbGRNZXRob2QiLCJ0ZW1wbGF0ZUNsYXNzIiwiZW1wdHlTdHJpbmdGdW5jdGlvbiIsIl9jc3NDbGFzcyIsImdldFRlbXBsYXRlQ2xhc3MiLCJidWlsZCIsIm1haW4iLCIkaW5wdXQiLCIkZmllbGQiLCJwcmVwYXJlRmllbGQiLCJiaW5kRXZlbnRzIiwiY3JlYXRlV3JhcHBlciIsIiR3cmFwcGVyIiwiY2xhc3NlcyIsImNvbnN0cyIsImFkZENsYXNzIiwid3JhcCIsImFkanVzdFdyYXBwZXJXaWR0aCIsImZpZWxkV2lkdGgiLCJvdXRlcldpZHRoIiwicGFyZW50IiwiY3NzIiwicmVtb3ZlV3JhcHBlciIsInVud3JhcCIsImNyZWF0ZUNvbnRhaW5lciIsIiRlbGVtZW50c19jb250YWluZXIiLCJhdHRyIiwiZ2V0Q29udGFpbmVySWQiLCJwcmVwZW5kIiwib24iLCJhbmltYXRpb25UaW1lIiwic2xpZGVEb3duIiwiZmFkZUluIiwic2hvdyIsInNsaWRlVXAiLCJmYWRlT3V0IiwiaGlkZSIsInJlbW92ZUNsYXNzIiwiZXEiLCJzZWxlY3RlZEVsZW1lbnQiLCJldmVudCIsIiRpdGVtIiwiJGxpc3RDb250YWluZXIiLCJlbXB0eSIsImRldGFjaCIsImVsZW1lbnRzTGlzdCIsImNvdW50ZXIiLCJidWlsZGVySW5kZXgiLCJsaXN0QnVpbGRlcnNMZW5ndGgiLCJsaXN0RGF0YSIsImZpbHRlcmRMb2NzIiwiYXBwZW5kIiwibGlzdERhdGFMZW5ndGgiLCJqIiwiaXRlbUNvdW50ZXIiLCJlbGVtZW50c1ZhbHVlIiwidmFsIiwidHJpZ2dlciIsInNlbGVjdEVsZW1lbnQiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsImh0bWwiLCJoaWdobGlnaHQiLCJhZnRlciIsInJlbW92ZUNvbnRhaW5lciIsIm5leHQiLCJyZW1vdmUiLCJzdHJpbmciLCJlc2NhcGVSZWdFeHAiLCJzdHIiLCJyZXBsYWNlIiwiZXNjYXBlZFBocmFzZSIsIlJlZ0V4cCIsImhhc0NsYXNzIiwiJGNvbnRhaW5lciIsImVsZW1lbnRJZCIsImJpbmRBbGxFdmVudHMiLCJjaGVja1BhcmFtIiwicmVtb3ZlQXV0b2NvbXBsZXRlIiwiYmluZEZvY3VzT3V0IiwiYmluZEtleXVwIiwiYmluZEtleWRvd24iLCJiaW5kS2V5cHJlc3MiLCJiaW5kRm9jdXMiLCJiaW5kQmx1ciIsImZvY3Vzb3V0IiwiZmllbGRWYWx1ZSIsIm9mZiIsImtleXVwIiwibG9hZERhdGEiLCJjcmVhdGVBamF4U2V0dGluZ3MiLCJzZXR0aW5ncyIsInNldCIsImNoZWNrSW5wdXRQaHJhc2VNYXRjaFJlc3BvbnNlIiwibGlzdEJ1aWxkZXJTZXJ2aWNlIiwibG9hZEVsZW1lbnRzIiwic2hvd0NvbnRhaW5lciIsImhpZGVDb250YWluZXIiLCJyYXdMb2NhdGlvbnMiLCJhamF4IiwiZG9uZSIsImZhaWwiLCJhbHdheXMiLCJrZXlDb2RlIiwibG9zZUZpZWxkRm9jdXMiLCJwcmV2ZW50RGVmYXVsdCIsInJlcXVlc3REZWxheVRpbWVvdXRJZCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJldnQiLCJ3aW5kb3ciLCJzdXBwcmVzc0tleXByZXNzIiwia2V5ZG93biIsImZvY3VzIiwiYmx1ciIsImluZGV4IiwiZ2V0Q29uc3RhbnRzIiwiZ2V0Q29uZmlndXJhdGlvbiIsImdldENvbnRhaW5lciIsImdldFNlbGVjdGVkSXRlbUluZGV4IiwiZ2V0SXRlbXMiLCJnZXRJdGVtRGF0YSIsImdldFNlbGVjdGVkSXRlbURhdGEiLCJlYWNIYW5kbGVzIiwiZ2V0SGFuZGxlIiwiaWQiLCJpbnB1dEhhc0lkIiwiaW5wdXQiLCJhc3NpZ25SYW5kb21JZCIsImZpZWxkSWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZXRIYW5kbGUiLCJoYW5kbGUiLCJmbiIsImVhc3lBdXRvY29tcGxldGUiLCIkdGhpcyIsImVhY0hhbmRsZSIsImlucHV0SWQiLCJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwicmVzaXplIiwiaCIsImhlaWdodCIsImNsaWNrIiwiZSIsInRvZ2dsZUNsYXNzIl0sIm1hcHBpbmdzIjoiQUFZQSxHQUFBQSxrQkFBQSxTQUFBQyxHQWdWQSxNQTlVQUEsR0FBQUMsY0FBQSxTQUFBQyxHQTZKQSxRQUFBQyxLQWdEQSxHQTlDQSxRQUFBRCxFQUFBRSxXQUVBRixFQUFBRyxXQUVBSCxFQUFBRyxTQUFBLFNBQUFDLEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsU0FLQU4sRUFBQU8sT0FFQVAsRUFBQU8sU0FHQVAsRUFBQU8sS0FBQUMsT0FDQVIsRUFBQU8sS0FBQUMsU0FJQVIsRUFBQU8sS0FBQUMsS0FBQUMsT0FBQSxTQUFBQyxFQUFBQyxHQUdBLE1BRkFELEdBQUFWLEVBQUFHLFNBQUFPLEdBQ0FDLEVBQUFYLEVBQUFHLFNBQUFRLEdBQ0FELEVBQUFDLEdBQ0EsRUFFQUQsRUFBQUMsRUFDQSxFQUVBLEdBR0FYLEVBQUFPLEtBQUFLLFFBQ0FaLEVBQUFPLEtBQUFLLFVBR0FaLEVBQUFPLEtBQUFLLE1BQUFILE9BQUEsU0FBQUwsRUFBQVMsR0FFQSxNQUFBVCxHQUFBVSxPQUFBRCxJQUFBLElBUUFFLFNBQUFmLEVBQUFnQixZQUFBaEIsRUFBQWdCLHFCQUFBQyxPQUFBLENBSUEsSUFBQSxHQUZBRCxNQUVBRSxFQUFBLEVBQUFDLEVBQUFuQixFQUFBZ0IsV0FBQUcsT0FBQUQsRUFBQUMsRUFBQUQsR0FBQSxFQUFBLENBRUEsR0FBQUUsR0FBQXBCLEVBQUFnQixXQUFBRSxFQUVBLEtBQUEsR0FB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ekssT0FFQXJILGlCQUFBeVIsVUFBQUssRUFBQUQsRUFBQS9HLEtBQUEsVUFLQXRLLEVBQUFtUixHQUFBaEIscUJBQUEsV0FFQSxHQUFBb0IsR0FBQXZSLEVBQUErRSxNQUFBdUYsS0FBQSxLQUVBLE9BQUE1SixVQUFBNlEsRUFDQS9SLGlCQUFBZ1IsVUFBQWUsR0FBQXBCLHdCQUdBLEdBR0FuUSxFQUFBbVIsR0FBQWYsU0FBQSxXQUVBLEdBQUFtQixHQUFBdlIsRUFBQStFLE1BQUF1RixLQUFBLEtBRUEsT0FBQTVKLFVBQUE2USxFQUNBL1IsaUJBQUFnUixVQUFBZSxHQUFBbkIsWUFHQSxHQUdBcFEsRUFBQW1SLEdBQUFkLFlBQUEsU0FBQU4sR0FFQSxHQUFBd0IsR0FBQXZSLEVBQUErRSxNQUFBdUYsS0FBQSxLQUVBLE9BQUE1SixVQUFBNlEsR0FBQXhCLEdBQUEsRUFDQXZRLGlCQUFBZ1IsVUFBQWUsR0FBQWxCLFlBQUFOLElBR0EsR0FHQS9QLEVBQUFtUixHQUFBYixvQkFBQSxXQUVBLEdBQUFpQixHQUFBdlIsRUFBQStFLE1BQUF1RixLQUFBLEtBRUEsT0FBQTVKLFVBQUE2USxFQUNBL1IsaUJBQUFnUixVQUFBZSxHQUFBakIsdUJBR0EsSUFHQWtCLFFDam5EQXhSLEVBQUF5UixVQUFBQyxNQUFBLFdBQ0ExUixFQUFBMFAsUUFBQWlDLE9BQUEsV0FDQSxHQUFBQyxHQUFBNVIsRUFBQTBQLFFBQUFtQyxRQUVBN1IsR0FBQSxlQUFBaUssSUFBQSxTQUFBMkgsS0FDQUQsU0FFQTNSLEVBQUEsZ0JBQUE4UixNQUFBLFNBQUFDLEdBQ0FBLEVBQUExQyxpQkFDQXJQLEVBQUEsWUFBQWdTLFlBQUEiLCJmaWxlIjoiY29tbW9uLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBlYXN5LWF1dG9jb21wbGV0ZVxuICogalF1ZXJ5IHBsdWdpbiBmb3IgYXV0b2NvbXBsZXRpb25cbiAqIFxuICogQGF1dGhvciDFgXVrYXN6IFBhd2XFgmN6YWsgKGh0dHA6Ly9naXRodWIuY29tL3Bhd2VsY3phaylcbiAqIEB2ZXJzaW9uIDEuMy41XG4gKiBDb3B5cmlnaHQgIExpY2Vuc2U6IFxuICovXG5cbi8qXG4gKiBFYXN5QXV0b2NvbXBsZXRlIC0gQ29uZmlndXJhdGlvbiBcbiAqL1xudmFyIEVhc3lBdXRvY29tcGxldGUgPSAoZnVuY3Rpb24oc2NvcGUpe1xuXG5cdHNjb3BlLkNvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbiBDb25maWd1cmF0aW9uKG9wdGlvbnMpIHtcblx0XHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0XHRkYXRhOiBcImxpc3QtcmVxdWlyZWRcIixcblx0XHRcdHVybDogXCJsaXN0LXJlcXVpcmVkXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJqc29uXCIsXG5cblx0XHRcdGxpc3RMb2NhdGlvbjogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH0sXG5cblx0XHRcdHhtbEVsZW1lbnROYW1lOiBcIlwiLFxuXG5cdFx0XHRnZXRWYWx1ZTogZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHRcdH0sXG5cblx0XHRcdGF1dG9jb21wbGV0ZU9mZjogdHJ1ZSxcblxuXHRcdFx0cGxhY2Vob2xkZXI6IGZhbHNlLFxuXG5cdFx0XHRhamF4Q2FsbGJhY2s6IGZ1bmN0aW9uKCkge30sXG5cblx0XHRcdG1hdGNoUmVzcG9uc2VQcm9wZXJ0eTogZmFsc2UsXG5cblx0XHRcdGxpc3Q6IHtcblx0XHRcdFx0c29ydDoge1xuXHRcdFx0XHRcdGVuYWJsZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1ldGhvZDogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHRcdFx0YSA9IGRlZmF1bHRzLmdldFZhbHVlKGEpO1xuXHRcdFx0XHRcdFx0YiA9IGRlZmF1bHRzLmdldFZhbHVlKGIpO1xuXHRcdFx0XHRcdFx0aWYgKGEgPCBiKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChhID4gYikge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0XHRtYXhOdW1iZXJPZkVsZW1lbnRzOiA2LFxuXG5cdFx0XHRcdGhpZGVPbkVtcHR5UGhyYXNlOiB0cnVlLFxuXG5cdFx0XHRcdG1hdGNoOiB7XG5cdFx0XHRcdFx0ZW5hYmxlZDogZmFsc2UsXG5cdFx0XHRcdFx0Y2FzZVNlbnNpdGl2ZTogZmFsc2UsXG5cdFx0XHRcdFx0bWV0aG9kOiBmdW5jdGlvbihlbGVtZW50LCBwaHJhc2UpIHtcblxuXHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQuc2VhcmNoKHBocmFzZSkgPiAtMSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0c2hvd0FuaW1hdGlvbjoge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9ybWFsXCIsIC8vbm9ybWFsfHNsaWRlfGZhZGVcblx0XHRcdFx0XHR0aW1lOiA0MDAsXG5cdFx0XHRcdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKCkge31cblx0XHRcdFx0fSxcblxuXHRcdFx0XHRoaWRlQW5pbWF0aW9uOiB7XG5cdFx0XHRcdFx0dHlwZTogXCJub3JtYWxcIixcblx0XHRcdFx0XHR0aW1lOiA0MDAsXG5cdFx0XHRcdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKCkge31cblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvKiBFdmVudHMgKi9cblx0XHRcdFx0b25DbGlja0V2ZW50OiBmdW5jdGlvbigpIHt9LFxuXHRcdFx0XHRvblNlbGVjdEl0ZW1FdmVudDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0b25Mb2FkRXZlbnQ6IGZ1bmN0aW9uKCkge30sXG5cdFx0XHRcdG9uQ2hvb3NlRXZlbnQ6IGZ1bmN0aW9uKCkge30sXG5cdFx0XHRcdG9uS2V5RW50ZXJFdmVudDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0b25Nb3VzZU92ZXJFdmVudDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0b25Nb3VzZU91dEV2ZW50OiBmdW5jdGlvbigpIHt9LFx0XG5cdFx0XHRcdG9uU2hvd0xpc3RFdmVudDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0b25IaWRlTGlzdEV2ZW50OiBmdW5jdGlvbigpIHt9XG5cdFx0XHR9LFxuXG5cdFx0XHRoaWdobGlnaHRQaHJhc2U6IHRydWUsXG5cblx0XHRcdHRoZW1lOiBcIlwiLFxuXG5cdFx0XHRjc3NDbGFzc2VzOiBcIlwiLFxuXG5cdFx0XHRtaW5DaGFyTnVtYmVyOiAwLFxuXG5cdFx0XHRyZXF1ZXN0RGVsYXk6IDAsXG5cblx0XHRcdGFkanVzdFdpZHRoOiB0cnVlLFxuXG5cdFx0XHRhamF4U2V0dGluZ3M6IHt9LFxuXG5cdFx0XHRwcmVwYXJlUG9zdERhdGE6IGZ1bmN0aW9uKGRhdGEsIGlucHV0UGhyYXNlKSB7cmV0dXJuIGRhdGE7fSxcblxuXHRcdFx0bG9nZ2VyRW5hYmxlZDogdHJ1ZSxcblxuXHRcdFx0dGVtcGxhdGU6IFwiXCIsXG5cblx0XHRcdGNhdGVnb3JpZXNBc3NpZ25lZDogZmFsc2UsXG5cblx0XHRcdGNhdGVnb3JpZXM6IFt7XG5cdFx0XHRcdG1heE51bWJlck9mRWxlbWVudHM6IDRcblx0XHRcdH1dXG5cblx0XHR9O1xuXHRcdFxuXHRcdHZhciBleHRlcm5hbE9iamVjdHMgPSBbXCJhamF4U2V0dGluZ3NcIiwgXCJ0ZW1wbGF0ZVwiXTtcblxuXHRcdHRoaXMuZ2V0ID0gZnVuY3Rpb24ocHJvcGVydHlOYW1lKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdHNbcHJvcGVydHlOYW1lXTtcblx0XHR9O1xuXG5cdFx0dGhpcy5lcXVhbHMgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXHRcdFx0aWYgKGlzQXNzaWduZWQobmFtZSkpIHtcblx0XHRcdFx0aWYgKGRlZmF1bHRzW25hbWVdID09PSB2YWx1ZSkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IFxuXHRcdFx0XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHRcdHRoaXMuY2hlY2tEYXRhVXJsUHJvcGVydGllcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKGRlZmF1bHRzLnVybCA9PT0gXCJsaXN0LXJlcXVpcmVkXCIgJiYgZGVmYXVsdHMuZGF0YSA9PT0gXCJsaXN0LXJlcXVpcmVkXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fTtcblx0XHR0aGlzLmNoZWNrUmVxdWlyZWRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gZGVmYXVsdHMpIHtcblx0XHRcdFx0aWYgKGRlZmF1bHRzW3Byb3BlcnR5TmFtZV0gPT09IFwicmVxdWlyZWRcIikge1xuXHRcdFx0XHRcdGxvZ2dlci5lcnJvcihcIk9wdGlvbiBcIiArIHByb3BlcnR5TmFtZSArIFwiIG11c3QgYmUgZGVmaW5lZFwiKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH07XG5cblx0XHR0aGlzLnByaW50UHJvcGVydGllc1RoYXREb2VzbnRFeGlzdCA9IGZ1bmN0aW9uKGNvbnNvbCwgb3B0aW9uc1RvQ2hlY2spIHtcblx0XHRcdHByaW50UHJvcGVydGllc1RoYXREb2VzbnRFeGlzdChjb25zb2wsIG9wdGlvbnNUb0NoZWNrKTtcblx0XHR9O1xuXG5cblx0XHRwcmVwYXJlRGVmYXVsdHMoKTtcblxuXHRcdG1lcmdlT3B0aW9ucygpO1xuXG5cdFx0aWYgKGRlZmF1bHRzLmxvZ2dlckVuYWJsZWQgPT09IHRydWUpIHtcblx0XHRcdHByaW50UHJvcGVydGllc1RoYXREb2VzbnRFeGlzdChjb25zb2xlLCBvcHRpb25zKTtcdFxuXHRcdH1cblxuXHRcdGFkZEFqYXhTZXR0aW5ncygpO1xuXG5cdFx0cHJvY2Vzc0FmdGVyTWVyZ2UoKTtcblx0XHRmdW5jdGlvbiBwcmVwYXJlRGVmYXVsdHMoKSB7XG5cblx0XHRcdGlmIChvcHRpb25zLmRhdGFUeXBlID09PSBcInhtbFwiKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAoIW9wdGlvbnMuZ2V0VmFsdWUpIHtcblxuXHRcdFx0XHRcdG9wdGlvbnMuZ2V0VmFsdWUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJChlbGVtZW50KS50ZXh0KCk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAoIW9wdGlvbnMubGlzdCkge1xuXG5cdFx0XHRcdFx0b3B0aW9ucy5saXN0ID0ge307XG5cdFx0XHRcdH0gXG5cblx0XHRcdFx0aWYgKCFvcHRpb25zLmxpc3Quc29ydCkge1xuXHRcdFx0XHRcdG9wdGlvbnMubGlzdC5zb3J0ID0ge307XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdG9wdGlvbnMubGlzdC5zb3J0Lm1ldGhvZCA9IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0XHRhID0gb3B0aW9ucy5nZXRWYWx1ZShhKTtcblx0XHRcdFx0XHRiID0gb3B0aW9ucy5nZXRWYWx1ZShiKTtcblx0XHRcdFx0XHRpZiAoYSA8IGIpIHtcblx0XHRcdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGEgPiBiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0aWYgKCFvcHRpb25zLmxpc3QubWF0Y2gpIHtcblx0XHRcdFx0XHRvcHRpb25zLmxpc3QubWF0Y2ggPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9wdGlvbnMubGlzdC5tYXRjaC5tZXRob2QgPSBmdW5jdGlvbihlbGVtZW50LCBwaHJhc2UpIHtcblxuXHRcdFx0XHRcdGlmIChlbGVtZW50LnNlYXJjaChwaHJhc2UpID4gLTEpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHR9XG5cdFx0XHRpZiAob3B0aW9ucy5jYXRlZ29yaWVzICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5jYXRlZ29yaWVzIGluc3RhbmNlb2YgQXJyYXkpIHtcblxuXHRcdFx0XHR2YXIgY2F0ZWdvcmllcyA9IFtdO1xuXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHsgXG5cblx0XHRcdFx0XHR2YXIgY2F0ZWdvcnkgPSBvcHRpb25zLmNhdGVnb3JpZXNbaV07XG5cblx0XHRcdFx0XHRmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cy5jYXRlZ29yaWVzWzBdKSB7XG5cblx0XHRcdFx0XHRcdGlmIChjYXRlZ29yeVtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRjYXRlZ29yeVtwcm9wZXJ0eV0gPSBkZWZhdWx0cy5jYXRlZ29yaWVzWzBdW3Byb3BlcnR5XTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0b3B0aW9ucy5jYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBtZXJnZU9wdGlvbnMoKSB7XG5cblx0XHRcdGRlZmF1bHRzID0gbWVyZ2VPYmplY3RzKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuXHRcdFx0ZnVuY3Rpb24gbWVyZ2VPYmplY3RzKHNvdXJjZSwgdGFyZ2V0KSB7XG5cdFx0XHRcdHZhciBtZXJnZWRPYmplY3QgPSBzb3VyY2UgfHwge307XG5cblx0XHRcdFx0Zm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHNvdXJjZSkge1xuXHRcdFx0XHRcdGlmICh0YXJnZXRbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFtwcm9wZXJ0eU5hbWVdICE9PSBudWxsKSB7XG5cblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgdGFyZ2V0W3Byb3BlcnR5TmFtZV0gIT09IFwib2JqZWN0XCIgfHwgXG5cdFx0XHRcdFx0XHRcdFx0dGFyZ2V0W3Byb3BlcnR5TmFtZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdFx0XHRcdFx0XHRtZXJnZWRPYmplY3RbcHJvcGVydHlOYW1lXSA9IHRhcmdldFtwcm9wZXJ0eU5hbWVdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bWVyZ2VPYmplY3RzKHNvdXJjZVtwcm9wZXJ0eU5hbWVdLCB0YXJnZXRbcHJvcGVydHlOYW1lXSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcblx0XHRcdFx0LyogSWYgZGF0YSBpcyBhbiBvYmplY3QgKi9cblx0XHRcdFx0aWYgKHRhcmdldC5kYXRhICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0LmRhdGEgIT09IG51bGwgJiYgdHlwZW9mIHRhcmdldC5kYXRhID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdFx0bWVyZ2VkT2JqZWN0LmRhdGEgPSB0YXJnZXQuZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtZXJnZWRPYmplY3Q7XG5cdFx0XHR9XG5cdFx0fVx0XG5cblxuXHRcdGZ1bmN0aW9uIHByb2Nlc3NBZnRlck1lcmdlKCkge1xuXHRcdFx0XG5cdFx0XHRpZiAoZGVmYXVsdHMudXJsICE9PSBcImxpc3QtcmVxdWlyZWRcIiAmJiB0eXBlb2YgZGVmYXVsdHMudXJsICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0dmFyIGRlZmF1bHRVcmwgPSBkZWZhdWx0cy51cmw7XG5cdFx0XHRcdGRlZmF1bHRzLnVybCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBkZWZhdWx0VXJsO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGVmYXVsdHMuYWpheFNldHRpbmdzLnVybCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBkZWZhdWx0cy5hamF4U2V0dGluZ3MudXJsICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0dmFyIGRlZmF1bHRVcmwgPSBkZWZhdWx0cy5hamF4U2V0dGluZ3MudXJsO1xuXHRcdFx0XHRkZWZhdWx0cy5hamF4U2V0dGluZ3MudXJsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRlZmF1bHRVcmw7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgZGVmYXVsdHMubGlzdExvY2F0aW9uID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdHZhciBkZWZhdWx0bGlzdExvY2F0aW9uID0gZGVmYXVsdHMubGlzdExvY2F0aW9uO1xuXG5cdFx0XHRcdGlmIChkZWZhdWx0cy5kYXRhVHlwZS50b1VwcGVyQ2FzZSgpID09PSBcIlhNTFwiKSB7XG5cdFx0XHRcdFx0ZGVmYXVsdHMubGlzdExvY2F0aW9uID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICQoZGF0YSkuZmluZChkZWZhdWx0bGlzdExvY2F0aW9uKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmF1bHRzLmxpc3RMb2NhdGlvbiA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhW2RlZmF1bHRsaXN0TG9jYXRpb25dO1xuXHRcdFx0XHRcdH07XHRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIGRlZmF1bHRzLmdldFZhbHVlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdHZhciBkZWZhdWx0c0dldFZhbHVlID0gZGVmYXVsdHMuZ2V0VmFsdWU7XG5cdFx0XHRcdGRlZmF1bHRzLmdldFZhbHVlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtZW50W2RlZmF1bHRzR2V0VmFsdWVdO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob3B0aW9ucy5jYXRlZ29yaWVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0ZGVmYXVsdHMuY2F0ZWdvcmllc0Fzc2lnbmVkID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGFkZEFqYXhTZXR0aW5ncygpIHtcblxuXHRcdFx0aWYgKG9wdGlvbnMuYWpheFNldHRpbmdzICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuYWpheFNldHRpbmdzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdGRlZmF1bHRzLmFqYXhTZXR0aW5ncyA9IG9wdGlvbnMuYWpheFNldHRpbmdzO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmYXVsdHMuYWpheFNldHRpbmdzID0ge307XHRcblx0XHRcdH1cblx0XHRcdFxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGlzQXNzaWduZWQobmFtZSkge1xuXHRcdFx0aWYgKGRlZmF1bHRzW25hbWVdICE9PSB1bmRlZmluZWQgJiYgZGVmYXVsdHNbbmFtZV0gIT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIHByaW50UHJvcGVydGllc1RoYXREb2VzbnRFeGlzdChjb25zb2wsIG9wdGlvbnNUb0NoZWNrKSB7XG5cdFx0XHRcblx0XHRcdGNoZWNrUHJvcGVydGllc0lmRXhpc3QoZGVmYXVsdHMsIG9wdGlvbnNUb0NoZWNrKTtcblxuXHRcdFx0ZnVuY3Rpb24gY2hlY2tQcm9wZXJ0aWVzSWZFeGlzdChzb3VyY2UsIHRhcmdldCkge1xuXHRcdFx0XHRmb3IodmFyIHByb3BlcnR5IGluIHRhcmdldCkge1xuXHRcdFx0XHRcdGlmIChzb3VyY2VbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbnNvbC5sb2coXCJQcm9wZXJ0eSAnXCIgKyBwcm9wZXJ0eSArIFwiJyBkb2VzIG5vdCBleGlzdCBpbiBFYXN5QXV0b2NvbXBsZXRlIG9wdGlvbnMgQVBJLlwiKTtcdFx0XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBzb3VyY2VbcHJvcGVydHldID09PSBcIm9iamVjdFwiICYmICQuaW5BcnJheShwcm9wZXJ0eSwgZXh0ZXJuYWxPYmplY3RzKSA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdGNoZWNrUHJvcGVydGllc0lmRXhpc3Qoc291cmNlW3Byb3BlcnR5XSwgdGFyZ2V0W3Byb3BlcnR5XSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XHRcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIHNjb3BlO1xuXG59KShFYXN5QXV0b2NvbXBsZXRlIHx8IHt9KTtcblxuXG4vKlxuICogRWFzeUF1dG9jb21wbGV0ZSAtIExvZ2dlciBcbiAqL1xudmFyIEVhc3lBdXRvY29tcGxldGUgPSAoZnVuY3Rpb24oc2NvcGUpe1xuXHRcblx0c2NvcGUuTG9nZ2VyID0gZnVuY3Rpb24gTG9nZ2VyKCkge1xuXG5cdFx0dGhpcy5lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiRVJST1I6IFwiICsgbWVzc2FnZSk7XG5cdFx0fTtcblxuXHRcdHRoaXMud2FybmluZyA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiV0FSTklORzogXCIgKyBtZXNzYWdlKTtcblx0XHR9O1xuXHR9O1xuXG5cdHJldHVybiBzY29wZTtcblxufSkoRWFzeUF1dG9jb21wbGV0ZSB8fCB7fSk7XG5cdFxuXG4vKlxuICogRWFzeUF1dG9jb21wbGV0ZSAtIENvbnN0YW5zXG4gKi9cbnZhciBFYXN5QXV0b2NvbXBsZXRlID0gKGZ1bmN0aW9uKHNjb3BlKXtcdFxuXHRcblx0c2NvcGUuQ29uc3RhbnMgPSBmdW5jdGlvbiBDb25zdGFucygpIHtcblx0XHR2YXIgY29uc3RhbnRzID0ge1xuXHRcdFx0Q09OVEFJTkVSX0NMQVNTOiBcImVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lclwiLFxuXHRcdFx0Q09OVEFJTkVSX0lEOiBcImVhYy1jb250YWluZXItXCIsXG5cblx0XHRcdFdSQVBQRVJfQ1NTX0NMQVNTOiBcImVhc3ktYXV0b2NvbXBsZXRlXCIsXG5cdFx0XHQvL1xuXHRcdFx0Q0FDSEVEX0RST1BET1dOX0RBVEE6IG51bGxcblx0XHR9O1xuXG5cdFx0dGhpcy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xuXHRcdFx0cmV0dXJuIGNvbnN0YW50c1twcm9wZXJ0eU5hbWVdO1xuXHRcdH07XG5cblx0fTtcblxuXHRyZXR1cm4gc2NvcGU7XG5cbn0pKEVhc3lBdXRvY29tcGxldGUgfHwge30pO1xuXG4vKlxuICogRWFzeUF1dG9jb21wbGV0ZSAtIExpc3RCdWlsZGVyU2VydmljZSBcbiAqXG4gKiBAYXV0aG9yIMWBdWthc3ogUGF3ZcWCY3phayBcbiAqXG4gKi9cbnZhciBFYXN5QXV0b2NvbXBsZXRlID0gKGZ1bmN0aW9uKHNjb3BlKSB7XG5cblx0c2NvcGUuTGlzdEJ1aWxkZXJTZXJ2aWNlID0gZnVuY3Rpb24gTGlzdEJ1aWxkZXJTZXJ2aWNlKGNvbmZpZ3VyYXRpb24sIHByb2NjZXNzUmVzcG9uc2VEYXRhKSB7XG5cblxuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHZhciBsaXN0QnVpbGRlciA9IFtdLFxuXHRcdFx0XHRidWlsZGVyID0ge307XG5cblx0XHRcdGJ1aWxkZXIuZGF0YSA9IGNvbmZpZ3VyYXRpb24uZ2V0KFwibGlzdExvY2F0aW9uXCIpKGRhdGEpO1xuXHRcdFx0YnVpbGRlci5nZXRWYWx1ZSA9IGNvbmZpZ3VyYXRpb24uZ2V0KFwiZ2V0VmFsdWVcIik7XG5cdFx0XHRidWlsZGVyLm1heExpc3RTaXplID0gY29uZmlndXJhdGlvbi5nZXQoXCJsaXN0XCIpLm1heE51bWJlck9mRWxlbWVudHM7XG5cblx0XHRcdFx0XG5cdFx0XHRsaXN0QnVpbGRlci5wdXNoKGJ1aWxkZXIpO1xuXG5cdFx0XHRyZXR1cm4gbGlzdEJ1aWxkZXI7XG5cdFx0fTtcblxuXHRcdHRoaXMudXBkYXRlQ2F0ZWdvcmllcyA9IGZ1bmN0aW9uKGxpc3RCdWlsZGVyLCBkYXRhKSB7XG5cdFx0XHRcblx0XHRcdGlmIChjb25maWd1cmF0aW9uLmdldChcImNhdGVnb3JpZXNBc3NpZ25lZFwiKSkge1xuXG5cdFx0XHRcdGxpc3RCdWlsZGVyID0gW107XG5cblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGNvbmZpZ3VyYXRpb24uZ2V0KFwiY2F0ZWdvcmllc1wiKS5sZW5ndGg7IGkgKz0gMSkge1xuXG5cdFx0XHRcdFx0dmFyIGJ1aWxkZXIgPSBjb252ZXJ0VG9MaXN0QnVpbGRlcihjb25maWd1cmF0aW9uLmdldChcImNhdGVnb3JpZXNcIilbaV0sIGRhdGEpO1xuXG5cdFx0XHRcdFx0bGlzdEJ1aWxkZXIucHVzaChidWlsZGVyKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IFxuXG5cdFx0XHRyZXR1cm4gbGlzdEJ1aWxkZXI7XG5cdFx0fTtcblxuXHRcdHRoaXMuY29udmVydFhtbCA9IGZ1bmN0aW9uKGxpc3RCdWlsZGVyKSB7XG5cdFx0XHRpZihjb25maWd1cmF0aW9uLmdldChcImRhdGFUeXBlXCIpLnRvVXBwZXJDYXNlKCkgPT09IFwiWE1MXCIpIHtcblxuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdEJ1aWxkZXIubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRsaXN0QnVpbGRlcltpXS5kYXRhID0gY29udmVydFhtbFRvTGlzdChsaXN0QnVpbGRlcltpXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxpc3RCdWlsZGVyO1xuXHRcdH07XG5cblx0XHR0aGlzLnByb2Nlc3NEYXRhID0gZnVuY3Rpb24obGlzdEJ1aWxkZXIsIGlucHV0UGhyYXNlKSB7XG5cblx0XHRcdGZvcih2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3RCdWlsZGVyLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSs9MSkge1xuXHRcdFx0XHRsaXN0QnVpbGRlcltpXS5kYXRhID0gcHJvY2Nlc3NSZXNwb25zZURhdGEoY29uZmlndXJhdGlvbiwgbGlzdEJ1aWxkZXJbaV0sIGlucHV0UGhyYXNlKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxpc3RCdWlsZGVyO1xuXHRcdH07XG5cblx0XHR0aGlzLmNoZWNrSWZEYXRhRXhpc3RzID0gZnVuY3Rpb24obGlzdEJ1aWxkZXJzKSB7XG5cblx0XHRcdGZvcih2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3RCdWlsZGVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXG5cdFx0XHRcdGlmIChsaXN0QnVpbGRlcnNbaV0uZGF0YSAhPT0gdW5kZWZpbmVkICYmIGxpc3RCdWlsZGVyc1tpXS5kYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcblx0XHRcdFx0XHRpZiAobGlzdEJ1aWxkZXJzW2ldLmRhdGEubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IFxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXG5cdFx0ZnVuY3Rpb24gY29udmVydFRvTGlzdEJ1aWxkZXIoY2F0ZWdvcnksIGRhdGEpIHtcblxuXHRcdFx0dmFyIGJ1aWxkZXIgPSB7fTtcblxuXHRcdFx0aWYoY29uZmlndXJhdGlvbi5nZXQoXCJkYXRhVHlwZVwiKS50b1VwcGVyQ2FzZSgpID09PSBcIlhNTFwiKSB7XG5cblx0XHRcdFx0YnVpbGRlciA9IGNvbnZlcnRYbWxUb0xpc3RCdWlsZGVyKCk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGJ1aWxkZXIgPSBjb252ZXJ0RGF0YVRvTGlzdEJ1aWxkZXIoKTtcblx0XHRcdH1cblx0XHRcdFxuXG5cdFx0XHRpZiAoY2F0ZWdvcnkuaGVhZGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0YnVpbGRlci5oZWFkZXIgPSBjYXRlZ29yeS5oZWFkZXI7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjYXRlZ29yeS5tYXhOdW1iZXJPZkVsZW1lbnRzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0YnVpbGRlci5tYXhOdW1iZXJPZkVsZW1lbnRzID0gY2F0ZWdvcnkubWF4TnVtYmVyT2ZFbGVtZW50cztcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNvbmZpZ3VyYXRpb24uZ2V0KFwibGlzdFwiKS5tYXhOdW1iZXJPZkVsZW1lbnRzICE9PSB1bmRlZmluZWQpIHtcblxuXHRcdFx0XHRidWlsZGVyLm1heExpc3RTaXplID0gY29uZmlndXJhdGlvbi5nZXQoXCJsaXN0XCIpLm1heE51bWJlck9mRWxlbWVudHM7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjYXRlZ29yeS5nZXRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cblx0XHRcdFx0aWYgKHR5cGVvZiBjYXRlZ29yeS5nZXRWYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdHZhciBkZWZhdWx0c0dldFZhbHVlID0gY2F0ZWdvcnkuZ2V0VmFsdWU7XG5cdFx0XHRcdFx0YnVpbGRlci5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtZW50W2RlZmF1bHRzR2V0VmFsdWVdO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNhdGVnb3J5LmdldFZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHRidWlsZGVyLmdldFZhbHVlID0gY2F0ZWdvcnkuZ2V0VmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVpbGRlci5nZXRWYWx1ZSA9IGNvbmZpZ3VyYXRpb24uZ2V0KFwiZ2V0VmFsdWVcIik7XHRcblx0XHRcdH1cblx0XHRcdFxuXG5cdFx0XHRyZXR1cm4gYnVpbGRlcjtcblxuXG5cdFx0XHRmdW5jdGlvbiBjb252ZXJ0WG1sVG9MaXN0QnVpbGRlcigpIHtcblxuXHRcdFx0XHR2YXIgYnVpbGRlciA9IHt9LFxuXHRcdFx0XHRcdGxpc3RMb2NhdGlvbjtcblxuXHRcdFx0XHRpZiAoY2F0ZWdvcnkueG1sRWxlbWVudE5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGJ1aWxkZXIueG1sRWxlbWVudE5hbWUgPSBjYXRlZ29yeS54bWxFbGVtZW50TmFtZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjYXRlZ29yeS5saXN0TG9jYXRpb24gIT09IHVuZGVmaW5lZCkge1xuXG5cdFx0XHRcdFx0bGlzdExvY2F0aW9uID0gY2F0ZWdvcnkubGlzdExvY2F0aW9uO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNvbmZpZ3VyYXRpb24uZ2V0KFwibGlzdExvY2F0aW9uXCIpICE9PSB1bmRlZmluZWQpIHtcblxuXHRcdFx0XHRcdGxpc3RMb2NhdGlvbiA9IGNvbmZpZ3VyYXRpb24uZ2V0KFwibGlzdExvY2F0aW9uXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGxpc3RMb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0TG9jYXRpb24gPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRcdGJ1aWxkZXIuZGF0YSA9ICQoZGF0YSkuZmluZChsaXN0TG9jYXRpb24pO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGxpc3RMb2NhdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cblx0XHRcdFx0XHRcdGJ1aWxkZXIuZGF0YSA9IGxpc3RMb2NhdGlvbihkYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRidWlsZGVyLmRhdGEgPSBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGJ1aWxkZXI7XG5cdFx0XHR9XG5cblxuXHRcdFx0ZnVuY3Rpb24gY29udmVydERhdGFUb0xpc3RCdWlsZGVyKCkge1xuXG5cdFx0XHRcdHZhciBidWlsZGVyID0ge307XG5cblx0XHRcdFx0aWYgKGNhdGVnb3J5Lmxpc3RMb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cblx0XHRcdFx0XHRpZiAodHlwZW9mIGNhdGVnb3J5Lmxpc3RMb2NhdGlvbiA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdFx0YnVpbGRlci5kYXRhID0gZGF0YVtjYXRlZ29yeS5saXN0TG9jYXRpb25dO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNhdGVnb3J5Lmxpc3RMb2NhdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0XHRidWlsZGVyLmRhdGEgPSBjYXRlZ29yeS5saXN0TG9jYXRpb24oZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1aWxkZXIuZGF0YSA9IGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYnVpbGRlcjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjb252ZXJ0WG1sVG9MaXN0KGJ1aWxkZXIpIHtcblx0XHRcdHZhciBzaW1wbGVMaXN0ID0gW107XG5cblx0XHRcdGlmIChidWlsZGVyLnhtbEVsZW1lbnROYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0YnVpbGRlci54bWxFbGVtZW50TmFtZSA9IGNvbmZpZ3VyYXRpb24uZ2V0KFwieG1sRWxlbWVudE5hbWVcIik7XG5cdFx0XHR9XG5cblxuXHRcdFx0JChidWlsZGVyLmRhdGEpLmZpbmQoYnVpbGRlci54bWxFbGVtZW50TmFtZSkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0c2ltcGxlTGlzdC5wdXNoKHRoaXMpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBzaW1wbGVMaXN0O1xuXHRcdH1cblxuXHR9O1xuXG5cdHJldHVybiBzY29wZTtcblxufSkoRWFzeUF1dG9jb21wbGV0ZSB8fCB7fSk7XG5cblxuLypcbiAqIEVhc3lBdXRvY29tcGxldGUgLSBEYXRhIHByb2NjZXNzIG1vZHVsZVxuICpcbiAqIFByb2Nlc3MgbGlzdCB0byBkaXNwbGF5OlxuICogLSBzb3J0IFxuICogLSBkZWNyZWFzZSBudW1iZXIgdG8gc3BlY2lmaWMgbnVtYmVyXG4gKiAtIHNob3cgb25seSBtYXRjaGluZyBsaXN0XG4gKlxuICovXG52YXIgRWFzeUF1dG9jb21wbGV0ZSA9IChmdW5jdGlvbihzY29wZSkge1xuXG5cdHNjb3BlLnByb2NjZXNzID0gZnVuY3Rpb24gcHJvY2Nlc3NEYXRhKGNvbmZpZywgbGlzdEJ1aWxkZXIsIHBocmFzZSkge1xuXG5cdFx0c2NvcGUucHJvY2Nlc3MubWF0Y2ggPSBtYXRjaDtcblxuXHRcdHZhciBsaXN0ID0gbGlzdEJ1aWxkZXIuZGF0YSxcblx0XHRcdGlucHV0UGhyYXNlID0gcGhyYXNlOy8vVE9ETyBSRUZBQ1RPUlxuXG5cdFx0bGlzdCA9IGZpbmRNYXRjaChsaXN0LCBpbnB1dFBocmFzZSk7XG5cdFx0bGlzdCA9IHJlZHVjZUVsZW1lbnRzSW5MaXN0KGxpc3QpO1xuXHRcdGxpc3QgPSBzb3J0KGxpc3QpO1xuXG5cdFx0cmV0dXJuIGxpc3Q7XG5cblxuXHRcdGZ1bmN0aW9uIGZpbmRNYXRjaChsaXN0LCBwaHJhc2UpIHtcblx0XHRcdHZhciBwcmVwYXJlZExpc3QgPSBbXSxcblx0XHRcdFx0dmFsdWUgPSBcIlwiO1xuXG5cdFx0XHRpZiAoY29uZmlnLmdldChcImxpc3RcIikubWF0Y2guZW5hYmxlZCkge1xuXG5cdFx0XHRcdGZvcih2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblxuXHRcdFx0XHRcdHZhbHVlID0gY29uZmlnLmdldChcImdldFZhbHVlXCIpKGxpc3RbaV0pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChtYXRjaCh2YWx1ZSwgcGhyYXNlKSkge1xuXHRcdFx0XHRcdFx0cHJlcGFyZWRMaXN0LnB1c2gobGlzdFtpXSk7XHRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHJlcGFyZWRMaXN0ID0gbGlzdDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHByZXBhcmVkTGlzdDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBtYXRjaCh2YWx1ZSwgcGhyYXNlKSB7XG5cblx0XHRcdGlmICghY29uZmlnLmdldChcImxpc3RcIikubWF0Y2guY2FzZVNlbnNpdGl2ZSkge1xuXG5cdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XHRcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0cGhyYXNlID0gcGhyYXNlLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoY29uZmlnLmdldChcImxpc3RcIikubWF0Y2gubWV0aG9kKHZhbHVlLCBwaHJhc2UpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlZHVjZUVsZW1lbnRzSW5MaXN0KGxpc3QpIHtcblx0XHRcdGlmIChsaXN0QnVpbGRlci5tYXhOdW1iZXJPZkVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiYgbGlzdC5sZW5ndGggPiBsaXN0QnVpbGRlci5tYXhOdW1iZXJPZkVsZW1lbnRzKSB7XG5cdFx0XHRcdGxpc3QgPSBsaXN0LnNsaWNlKDAsIGxpc3RCdWlsZGVyLm1heE51bWJlck9mRWxlbWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbGlzdDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzb3J0KGxpc3QpIHtcblx0XHRcdGlmIChjb25maWcuZ2V0KFwibGlzdFwiKS5zb3J0LmVuYWJsZWQpIHtcblx0XHRcdFx0bGlzdC5zb3J0KGNvbmZpZy5nZXQoXCJsaXN0XCIpLnNvcnQubWV0aG9kKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxpc3Q7XG5cdFx0fVxuXHRcdFxuXHR9O1xuXG5cblx0cmV0dXJuIHNjb3BlO1xuXG5cbn0pKEVhc3lBdXRvY29tcGxldGUgfHwge30pO1xuXG5cbi8qXG4gKiBFYXN5QXV0b2NvbXBsZXRlIC0gVGVtcGxhdGUgXG4gKlxuICogXG4gKlxuICovXG52YXIgRWFzeUF1dG9jb21wbGV0ZSA9IChmdW5jdGlvbihzY29wZSl7XG5cblx0c2NvcGUuVGVtcGxhdGUgPSBmdW5jdGlvbiBUZW1wbGF0ZShvcHRpb25zKSB7XG5cblxuXHRcdHZhciBnZW5lcmljVGVtcGxhdGVzID0ge1xuXHRcdFx0YmFzaWM6IHtcblx0XHRcdFx0dHlwZTogXCJiYXNpY1wiLFxuXHRcdFx0XHRtZXRob2Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQ7IH0sXG5cdFx0XHRcdGNzc0NsYXNzOiBcIlwiXG5cdFx0XHR9LFxuXHRcdFx0ZGVzY3JpcHRpb246IHtcblx0XHRcdFx0dHlwZTogXCJkZXNjcmlwdGlvblwiLFxuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogXCJkZXNjcmlwdGlvblwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG1ldGhvZDogZnVuY3Rpb24oZWxlbWVudCkge1x0cmV0dXJuIGVsZW1lbnQgKyBcIiAtIGRlc2NyaXB0aW9uXCI7IH0sXG5cdFx0XHRcdGNzc0NsYXNzOiBcImVhYy1kZXNjcmlwdGlvblwiXG5cdFx0XHR9LFxuXHRcdFx0aWNvbkxlZnQ6IHtcblx0XHRcdFx0dHlwZTogXCJpY29uTGVmdFwiLFxuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRpY29uOiBcIlwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG1ldGhvZDogZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtZW50O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjc3NDbGFzczogXCJlYWMtaWNvbi1sZWZ0XCJcblx0XHRcdH0sXG5cdFx0XHRpY29uUmlnaHQ6IHtcblx0XHRcdFx0dHlwZTogXCJpY29uUmlnaHRcIixcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0aWNvblNyYzogXCJcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRtZXRob2Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3NzQ2xhc3M6IFwiZWFjLWljb24tcmlnaHRcIlxuXHRcdFx0fSxcblx0XHRcdGxpbmtzOiB7XG5cdFx0XHRcdHR5cGU6IFwibGlua3NcIixcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bGluazogXCJcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRtZXRob2Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3NzQ2xhc3M6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRjdXN0b206IHtcblx0XHRcdFx0dHlwZTogXCJjdXN0b21cIixcblx0XHRcdFx0bWV0aG9kOiBmdW5jdGlvbigpIHt9LFxuXHRcdFx0XHRjc3NDbGFzczogXCJcIlxuXHRcdFx0fVxuXHRcdH0sXG5cblxuXG5cdFx0Lypcblx0XHQgKiBDb252ZXJ0cyBtZXRob2Qgd2l0aCB7e3RleHR9fSB0byBmdW5jdGlvblxuXHRcdCAqL1xuXHRcdGNvbnZlcnRUZW1wbGF0ZVRvTWV0aG9kID0gZnVuY3Rpb24odGVtcGxhdGUpIHtcblxuXG5cdFx0XHR2YXIgX2ZpZWxkcyA9IHRlbXBsYXRlLmZpZWxkcyxcblx0XHRcdFx0YnVpbGRNZXRob2Q7XG5cblx0XHRcdGlmICh0ZW1wbGF0ZS50eXBlID09PSBcImRlc2NyaXB0aW9uXCIpIHtcblxuXHRcdFx0XHRidWlsZE1ldGhvZCA9IGdlbmVyaWNUZW1wbGF0ZXMuZGVzY3JpcHRpb24ubWV0aG9kOyBcblxuXHRcdFx0XHRpZiAodHlwZW9mIF9maWVsZHMuZGVzY3JpcHRpb24gPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRidWlsZE1ldGhvZCA9IGZ1bmN0aW9uKGVsZW1lbnRWYWx1ZSwgZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnRWYWx1ZSArIFwiIC0gPHNwYW4+XCIgKyBlbGVtZW50W19maWVsZHMuZGVzY3JpcHRpb25dICsgXCI8L3NwYW4+XCI7XG5cdFx0XHRcdFx0fTtcdFx0XHRcdFx0XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIF9maWVsZHMuZGVzY3JpcHRpb24gPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdGJ1aWxkTWV0aG9kID0gZnVuY3Rpb24oZWxlbWVudFZhbHVlLCBlbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudFZhbHVlICsgXCIgLSA8c3Bhbj5cIiArIF9maWVsZHMuZGVzY3JpcHRpb24oZWxlbWVudCkgKyBcIjwvc3Bhbj5cIjtcblx0XHRcdFx0XHR9O1x0XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYnVpbGRNZXRob2Q7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0ZW1wbGF0ZS50eXBlID09PSBcImljb25SaWdodFwiKSB7XG5cblx0XHRcdFx0aWYgKHR5cGVvZiBfZmllbGRzLmljb25TcmMgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRidWlsZE1ldGhvZCA9IGZ1bmN0aW9uKGVsZW1lbnRWYWx1ZSwgZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnRWYWx1ZSArIFwiPGltZyBjbGFzcz0nZWFjLWljb24nIHNyYz0nXCIgKyBlbGVtZW50W19maWVsZHMuaWNvblNyY10gKyBcIicgLz5cIiA7XG5cdFx0XHRcdFx0fTtcdFx0XHRcdFx0XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIF9maWVsZHMuaWNvblNyYyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0YnVpbGRNZXRob2QgPSBmdW5jdGlvbihlbGVtZW50VmFsdWUsIGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtZW50VmFsdWUgKyBcIjxpbWcgY2xhc3M9J2VhYy1pY29uJyBzcmM9J1wiICsgX2ZpZWxkcy5pY29uU3JjKGVsZW1lbnQpICsgXCInIC8+XCIgO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYnVpbGRNZXRob2Q7XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYgKHRlbXBsYXRlLnR5cGUgPT09IFwiaWNvbkxlZnRcIikge1xuXG5cdFx0XHRcdGlmICh0eXBlb2YgX2ZpZWxkcy5pY29uU3JjID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0YnVpbGRNZXRob2QgPSBmdW5jdGlvbihlbGVtZW50VmFsdWUsIGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBcIjxpbWcgY2xhc3M9J2VhYy1pY29uJyBzcmM9J1wiICsgZWxlbWVudFtfZmllbGRzLmljb25TcmNdICsgXCInIC8+XCIgKyBlbGVtZW50VmFsdWU7XG5cdFx0XHRcdFx0fTtcdFx0XHRcdFx0XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIF9maWVsZHMuaWNvblNyYyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0YnVpbGRNZXRob2QgPSBmdW5jdGlvbihlbGVtZW50VmFsdWUsIGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBcIjxpbWcgY2xhc3M9J2VhYy1pY29uJyBzcmM9J1wiICsgX2ZpZWxkcy5pY29uU3JjKGVsZW1lbnQpICsgXCInIC8+XCIgKyBlbGVtZW50VmFsdWU7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBidWlsZE1ldGhvZDtcblx0XHRcdH1cblxuXHRcdFx0aWYodGVtcGxhdGUudHlwZSA9PT0gXCJsaW5rc1wiKSB7XG5cblx0XHRcdFx0aWYgKHR5cGVvZiBfZmllbGRzLmxpbmsgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRidWlsZE1ldGhvZCA9IGZ1bmN0aW9uKGVsZW1lbnRWYWx1ZSwgZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIFwiPGEgaHJlZj0nXCIgKyBlbGVtZW50W19maWVsZHMubGlua10gKyBcIicgPlwiICsgZWxlbWVudFZhbHVlICsgXCI8L2E+XCI7XG5cdFx0XHRcdFx0fTtcdFx0XHRcdFx0XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIF9maWVsZHMubGluayA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0YnVpbGRNZXRob2QgPSBmdW5jdGlvbihlbGVtZW50VmFsdWUsIGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBcIjxhIGhyZWY9J1wiICsgX2ZpZWxkcy5saW5rKGVsZW1lbnQpICsgXCInID5cIiArIGVsZW1lbnRWYWx1ZSArIFwiPC9hPlwiO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYnVpbGRNZXRob2Q7XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYgKHRlbXBsYXRlLnR5cGUgPT09IFwiY3VzdG9tXCIpIHtcblxuXHRcdFx0XHRyZXR1cm4gdGVtcGxhdGUubWV0aG9kO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZ2VuZXJpY1RlbXBsYXRlcy5iYXNpYy5tZXRob2Q7XG5cblx0XHR9LFxuXG5cblx0XHRwcmVwYXJlQnVpbGRNZXRob2QgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0XHRpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMudHlwZSkge1xuXG5cdFx0XHRcdHJldHVybiBnZW5lcmljVGVtcGxhdGVzLmJhc2ljLm1ldGhvZDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdGlvbnMudHlwZSAmJiBnZW5lcmljVGVtcGxhdGVzW29wdGlvbnMudHlwZV0pIHtcblxuXHRcdFx0XHRyZXR1cm4gY29udmVydFRlbXBsYXRlVG9NZXRob2Qob3B0aW9ucyk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHJldHVybiBnZW5lcmljVGVtcGxhdGVzLmJhc2ljLm1ldGhvZDtcblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHR0ZW1wbGF0ZUNsYXNzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdFx0dmFyIGVtcHR5U3RyaW5nRnVuY3Rpb24gPSBmdW5jdGlvbigpIHtyZXR1cm4gXCJcIjt9O1xuXG5cdFx0XHRpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMudHlwZSkge1xuXG5cdFx0XHRcdHJldHVybiBlbXB0eVN0cmluZ0Z1bmN0aW9uO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob3B0aW9ucy50eXBlICYmIGdlbmVyaWNUZW1wbGF0ZXNbb3B0aW9ucy50eXBlXSkge1xuXHRcdFx0XHRyZXR1cm4gKGZ1bmN0aW9uICgpIHsgXG5cdFx0XHRcdFx0dmFyIF9jc3NDbGFzcyA9IGdlbmVyaWNUZW1wbGF0ZXNbb3B0aW9ucy50eXBlXS5jc3NDbGFzcztcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiBfY3NzQ2xhc3M7fTtcblx0XHRcdFx0fSkoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBlbXB0eVN0cmluZ0Z1bmN0aW9uO1xuXHRcdFx0fVxuXHRcdH07XG5cblxuXHRcdHRoaXMuZ2V0VGVtcGxhdGVDbGFzcyA9IHRlbXBsYXRlQ2xhc3Mob3B0aW9ucyk7XG5cblx0XHR0aGlzLmJ1aWxkID0gcHJlcGFyZUJ1aWxkTWV0aG9kKG9wdGlvbnMpO1xuXG5cblx0fTtcblxuXHRyZXR1cm4gc2NvcGU7XG5cbn0pKEVhc3lBdXRvY29tcGxldGUgfHwge30pO1xuXG5cbi8qXG4gKiBFYXN5QXV0b2NvbXBsZXRlIC0galF1ZXJ5IHBsdWdpbiBmb3IgYXV0b2NvbXBsZXRpb25cbiAqXG4gKi9cbnZhciBFYXN5QXV0b2NvbXBsZXRlID0gKGZ1bmN0aW9uKHNjb3BlKSB7XG5cblx0XG5cdHNjb3BlLm1haW4gPSBmdW5jdGlvbiBDb3JlKCRpbnB1dCwgb3B0aW9ucykge1xuXHRcdFx0XHRcblx0XHR2YXIgbW9kdWxlID0ge1xuXHRcdFx0XHRuYW1lOiBcIkVhc3lBdXRvY29tcGxldGVcIixcblx0XHRcdFx0c2hvcnRjdXQ6IFwiZWFjXCJcblx0XHRcdH07XG5cblx0XHR2YXIgY29uc3RzID0gbmV3IHNjb3BlLkNvbnN0YW5zKCksXG5cdFx0XHRjb25maWcgPSBuZXcgc2NvcGUuQ29uZmlndXJhdGlvbihvcHRpb25zKSxcblx0XHRcdGxvZ2dlciA9IG5ldyBzY29wZS5Mb2dnZXIoKSxcblx0XHRcdHRlbXBsYXRlID0gbmV3IHNjb3BlLlRlbXBsYXRlKG9wdGlvbnMudGVtcGxhdGUpLFxuXHRcdFx0bGlzdEJ1aWxkZXJTZXJ2aWNlID0gbmV3IHNjb3BlLkxpc3RCdWlsZGVyU2VydmljZShjb25maWcsIHNjb3BlLnByb2NjZXNzKSxcblx0XHRcdGNoZWNrUGFyYW0gPSBjb25maWcuZXF1YWxzLFxuXG5cdFx0XHQkZmllbGQgPSAkaW5wdXQsIFxuXHRcdFx0JGNvbnRhaW5lciA9IFwiXCIsXG5cdFx0XHRlbGVtZW50c0xpc3QgPSBbXSxcblx0XHRcdHNlbGVjdGVkRWxlbWVudCA9IC0xLFxuXHRcdFx0cmVxdWVzdERlbGF5VGltZW91dElkO1xuXG5cdFx0c2NvcGUuY29uc3RzID0gY29uc3RzO1xuXG5cblx0XHR0aGlzLmdldENvbnN0YW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGNvbnN0cztcblx0XHR9O1xuXG5cdFx0dGhpcy5nZXRDb25maWd1cmF0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gY29uZmlnO1xuXHRcdH07XG5cblx0XHR0aGlzLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuICRjb250YWluZXI7XG5cdFx0fTtcblxuXHRcdHRoaXMuZ2V0U2VsZWN0ZWRJdGVtSW5kZXggPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzZWxlY3RlZEVsZW1lbnQ7XG5cdFx0fTtcblxuXHRcdHRoaXMuZ2V0SXRlbXMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZWxlbWVudHNMaXN0O1xuXHRcdH07XG5cblx0XHR0aGlzLmdldEl0ZW1EYXRhID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuXHRcdFx0aWYgKGVsZW1lbnRzTGlzdC5sZW5ndGggPCBpbmRleCB8fCBlbGVtZW50c0xpc3RbaW5kZXhdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGVsZW1lbnRzTGlzdFtpbmRleF07XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHRoaXMuZ2V0U2VsZWN0ZWRJdGVtRGF0YSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0SXRlbURhdGEoc2VsZWN0ZWRFbGVtZW50KTtcblx0XHR9O1xuXG5cdFx0dGhpcy5idWlsZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cHJlcGFyZUZpZWxkKCk7XG5cdFx0fTtcblxuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aW5pdCgpO1xuXHRcdH07XG5cdFx0ZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdFx0aWYgKCRmaWVsZC5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0bG9nZ2VyLmVycm9yKFwiSW5wdXQgZmllbGQgZG9lc24ndCBleGlzdC5cIik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFjb25maWcuY2hlY2tEYXRhVXJsUHJvcGVydGllcygpKSB7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcihcIk9uZSBvZiBvcHRpb25zIHZhcmlhYmxlcyAnZGF0YScgb3IgJ3VybCcgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWNvbmZpZy5jaGVja1JlcXVpcmVkUHJvcGVydGllcygpKSB7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcihcIldpbGwgbm90IHdvcmsgd2l0aG91dCBtZW50aW9uZWQgcHJvcGVydGllcy5cIik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXG5cdFx0XHRwcmVwYXJlRmllbGQoKTtcblx0XHRcdGJpbmRFdmVudHMoKTtcdFxuXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIHByZXBhcmVGaWVsZCgpIHtcblxuXHRcdFx0XHRcblx0XHRcdGlmICgkZmllbGQucGFyZW50KCkuaGFzQ2xhc3MoY29uc3RzLmdldFZhbHVlKFwiV1JBUFBFUl9DU1NfQ0xBU1NcIikpKSB7XG5cdFx0XHRcdHJlbW92ZUNvbnRhaW5lcigpO1xuXHRcdFx0XHRyZW1vdmVXcmFwcGVyKCk7XG5cdFx0XHR9IFxuXHRcdFx0XG5cdFx0XHRjcmVhdGVXcmFwcGVyKCk7XG5cdFx0XHRjcmVhdGVDb250YWluZXIoKTtcdFxuXG5cdFx0XHQkY29udGFpbmVyID0gJChcIiNcIiArIGdldENvbnRhaW5lcklkKCkpO1xuXHRcdFx0aWYgKGNvbmZpZy5nZXQoXCJwbGFjZWhvbGRlclwiKSkge1xuXHRcdFx0XHQkZmllbGQuYXR0cihcInBsYWNlaG9sZGVyXCIsIGNvbmZpZy5nZXQoXCJwbGFjZWhvbGRlclwiKSk7XG5cdFx0XHR9XG5cblxuXHRcdFx0ZnVuY3Rpb24gY3JlYXRlV3JhcHBlcigpIHtcblx0XHRcdFx0dmFyICR3cmFwcGVyID0gJChcIjxkaXY+XCIpLFxuXHRcdFx0XHRcdGNsYXNzZXMgPSBjb25zdHMuZ2V0VmFsdWUoXCJXUkFQUEVSX0NTU19DTEFTU1wiKTtcblxuXHRcdFx0XG5cdFx0XHRcdGlmIChjb25maWcuZ2V0KFwidGhlbWVcIikgJiYgY29uZmlnLmdldChcInRoZW1lXCIpICE9PSBcIlwiKSB7XG5cdFx0XHRcdFx0Y2xhc3NlcyArPSBcIiBlYWMtXCIgKyBjb25maWcuZ2V0KFwidGhlbWVcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29uZmlnLmdldChcImNzc0NsYXNzZXNcIikgJiYgY29uZmlnLmdldChcImNzc0NsYXNzZXNcIikgIT09IFwiXCIpIHtcblx0XHRcdFx0XHRjbGFzc2VzICs9IFwiIFwiICsgY29uZmlnLmdldChcImNzc0NsYXNzZXNcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodGVtcGxhdGUuZ2V0VGVtcGxhdGVDbGFzcygpICE9PSBcIlwiKSB7XG5cdFx0XHRcdFx0Y2xhc3NlcyArPSBcIiBcIiArIHRlbXBsYXRlLmdldFRlbXBsYXRlQ2xhc3MoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblxuXHRcdFx0XHQkd3JhcHBlclxuXHRcdFx0XHRcdC5hZGRDbGFzcyhjbGFzc2VzKTtcblx0XHRcdFx0JGZpZWxkLndyYXAoJHdyYXBwZXIpO1xuXG5cblx0XHRcdFx0aWYgKGNvbmZpZy5nZXQoXCJhZGp1c3RXaWR0aFwiKSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdGFkanVzdFdyYXBwZXJXaWR0aCgpO1x0XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gYWRqdXN0V3JhcHBlcldpZHRoKCkge1xuXHRcdFx0XHR2YXIgZmllbGRXaWR0aCA9ICRmaWVsZC5vdXRlcldpZHRoKCk7XG5cblx0XHRcdFx0JGZpZWxkLnBhcmVudCgpLmNzcyhcIndpZHRoXCIsIGZpZWxkV2lkdGgpO1x0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIHJlbW92ZVdyYXBwZXIoKSB7XG5cdFx0XHRcdCRmaWVsZC51bndyYXAoKTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKCkge1xuXHRcdFx0XHR2YXIgJGVsZW1lbnRzX2NvbnRhaW5lciA9ICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhjb25zdHMuZ2V0VmFsdWUoXCJDT05UQUlORVJfQ0xBU1NcIikpO1xuXG5cdFx0XHRcdCRlbGVtZW50c19jb250YWluZXJcblx0XHRcdFx0XHRcdC5hdHRyKFwiaWRcIiwgZ2V0Q29udGFpbmVySWQoKSlcblx0XHRcdFx0XHRcdC5wcmVwZW5kKCQoXCI8dWw+XCIpKTtcblxuXG5cdFx0XHRcdChmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXJcblx0XHRcdFx0XHRcdC8qIExpc3Qgc2hvdyBhbmltYXRpb24gKi9cblx0XHRcdFx0XHRcdC5vbihcInNob3cuZWFjXCIsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHRcdHN3aXRjaChjb25maWcuZ2V0KFwibGlzdFwiKS5zaG93QW5pbWF0aW9uLnR5cGUpIHtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJzbGlkZVwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGFuaW1hdGlvblRpbWUgPSBjb25maWcuZ2V0KFwibGlzdFwiKS5zaG93QW5pbWF0aW9uLnRpbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gY29uZmlnLmdldChcImxpc3RcIikuc2hvd0FuaW1hdGlvbi5jYWxsYmFjaztcblxuXHRcdFx0XHRcdFx0XHRcdFx0JGVsZW1lbnRzX2NvbnRhaW5lci5maW5kKFwidWxcIikuc2xpZGVEb3duKGFuaW1hdGlvblRpbWUsIGNhbGxiYWNrKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJmYWRlXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgYW5pbWF0aW9uVGltZSA9IGNvbmZpZy5nZXQoXCJsaXN0XCIpLnNob3dBbmltYXRpb24udGltZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBjb25maWcuZ2V0KFwibGlzdFwiKS5zaG93QW5pbWF0aW9uLmNhbGxiYWNrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQkZWxlbWVudHNfY29udGFpbmVyLmZpbmQoXCJ1bFwiKS5mYWRlSW4oYW5pbWF0aW9uVGltZSksIGNhbGxiYWNrO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsXCIpLnNob3coKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNvbmZpZy5nZXQoXCJsaXN0XCIpLm9uU2hvd0xpc3RFdmVudCgpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQvKiBMaXN0IGhpZGUgYW5pbWF0aW9uICovXG5cdFx0XHRcdFx0XHQub24oXCJoaWRlLmVhY1wiLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0XHRzd2l0Y2goY29uZmlnLmdldChcImxpc3RcIikuaGlkZUFuaW1hdGlvbi50eXBlKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwic2xpZGVcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBhbmltYXRpb25UaW1lID0gY29uZmlnLmdldChcImxpc3RcIikuaGlkZUFuaW1hdGlvbi50aW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGNvbmZpZy5nZXQoXCJsaXN0XCIpLmhpZGVBbmltYXRpb24uY2FsbGJhY2s7XG5cblx0XHRcdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsXCIpLnNsaWRlVXAoYW5pbWF0aW9uVGltZSwgY2FsbGJhY2spO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImZhZGVcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBhbmltYXRpb25UaW1lID0gY29uZmlnLmdldChcImxpc3RcIikuaGlkZUFuaW1hdGlvbi50aW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGNvbmZpZy5nZXQoXCJsaXN0XCIpLmhpZGVBbmltYXRpb24uY2FsbGJhY2s7XG5cblx0XHRcdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsXCIpLmZhZGVPdXQoYW5pbWF0aW9uVGltZSwgY2FsbGJhY2spO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsXCIpLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNvbmZpZy5nZXQoXCJsaXN0XCIpLm9uSGlkZUxpc3RFdmVudCgpO1xuXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0Lm9uKFwic2VsZWN0RWxlbWVudC5lYWNcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsIGxpXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG5cdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsIGxpXCIpLmVxKHNlbGVjdGVkRWxlbWVudCkuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcblxuXHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vblNlbGVjdEl0ZW1FdmVudCgpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5vbihcImxvYWRFbGVtZW50cy5lYWNcIiwgZnVuY3Rpb24oZXZlbnQsIGxpc3RCdWlsZGVycywgcGhyYXNlKSB7XG5cdFx0XHRcblxuXHRcdFx0XHRcdFx0XHR2YXIgJGl0ZW0gPSBcIlwiLFxuXHRcdFx0XHRcdFx0XHRcdCRsaXN0Q29udGFpbmVyID0gJGVsZW1lbnRzX2NvbnRhaW5lci5maW5kKFwidWxcIik7XG5cblx0XHRcdFx0XHRcdFx0JGxpc3RDb250YWluZXJcblx0XHRcdFx0XHRcdFx0XHQuZW1wdHkoKVxuXHRcdFx0XHRcdFx0XHRcdC5kZXRhY2goKTtcblxuXHRcdFx0XHRcdFx0XHRlbGVtZW50c0xpc3QgPSBbXTtcblx0XHRcdFx0XHRcdFx0dmFyIGNvdW50ZXIgPSAwO1xuXHRcdFx0XHRcdFx0XHRmb3IodmFyIGJ1aWxkZXJJbmRleCA9IDAsIGxpc3RCdWlsZGVyc0xlbmd0aCA9IGxpc3RCdWlsZGVycy5sZW5ndGg7IGJ1aWxkZXJJbmRleCA8IGxpc3RCdWlsZGVyc0xlbmd0aDsgYnVpbGRlckluZGV4ICs9IDEpIHtcblxuXHRcdFx0XHRcdFx0XHRcdHZhciBsaXN0RGF0YSA9IGxpc3RCdWlsZGVyc1tidWlsZGVySW5kZXhdLmRhdGE7XG5cblx0XHRcdFx0XHRcdFx0XHQvL2FkZCBjdXJyZW50IGxpc3QgdG8gZmlsdGVyZWQgbG9jYXRpb25zIGxpc3Rcblx0XHRcdFx0XHRcdFx0XHRmaWx0ZXJkTG9jcyA9IGxpc3REYXRhO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGxpc3REYXRhLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGxpc3RCdWlsZGVyc1tidWlsZGVySW5kZXhdLmhlYWRlciAhPT0gdW5kZWZpbmVkICYmIGxpc3RCdWlsZGVyc1tidWlsZGVySW5kZXhdLmhlYWRlci5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkbGlzdENvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdlYWMtY2F0ZWdvcnknID5cIiArIGxpc3RCdWlsZGVyc1tidWlsZGVySW5kZXhdLmhlYWRlciArIFwiPC9kaXY+XCIpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGZvcih2YXIgaSA9IDAsIGxpc3REYXRhTGVuZ3RoID0gbGlzdERhdGEubGVuZ3RoOyBpIDwgbGlzdERhdGFMZW5ndGggJiYgY291bnRlciA8IGxpc3RCdWlsZGVyc1tidWlsZGVySW5kZXhdLm1heExpc3RTaXplOyBpICs9IDEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdCRpdGVtID0gJChcIjxsaT48ZGl2IGNsYXNzPSdlYWMtaXRlbSc+PC9kaXY+PC9saT5cIik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblxuXHRcdFx0XHRcdFx0XHRcdFx0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaiA9IGksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXRlbUNvdW50ZXIgPSBjb3VudGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsZW1lbnRzVmFsdWUgPSBsaXN0QnVpbGRlcnNbYnVpbGRlckluZGV4XS5nZXRWYWx1ZShsaXN0RGF0YVtqXSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0JGl0ZW0uZmluZChcIiA+IGRpdlwiKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkZmllbGQudmFsKGVsZW1lbnRzVmFsdWUpLnRyaWdnZXIoXCJjaGFuZ2VcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkRWxlbWVudCA9IGl0ZW1Db3VudGVyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0RWxlbWVudChpdGVtQ291bnRlcik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbmZpZy5nZXQoXCJsaXN0XCIpLm9uQ2xpY2tFdmVudCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uZmlnLmdldChcImxpc3RcIikub25DaG9vc2VFdmVudCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lm1vdXNlb3ZlcihmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50ID0gaXRlbUNvdW50ZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RFbGVtZW50KGl0ZW1Db3VudGVyKTtcdFxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vbk1vdXNlT3ZlckV2ZW50KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQubW91c2VvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vbk1vdXNlT3V0RXZlbnQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5odG1sKHRlbXBsYXRlLmJ1aWxkKGhpZ2hsaWdodChlbGVtZW50c1ZhbHVlLCBwaHJhc2UpLCBsaXN0RGF0YVtqXSkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0JGxpc3RDb250YWluZXIuYXBwZW5kKCRpdGVtKTtcblx0XHRcdFx0XHRcdFx0XHRcdGVsZW1lbnRzTGlzdC5wdXNoKGxpc3REYXRhW2ldKTtcblx0XHRcdFx0XHRcdFx0XHRcdGNvdW50ZXIgKz0gMTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQkZWxlbWVudHNfY29udGFpbmVyLmFwcGVuZCgkbGlzdENvbnRhaW5lcik7XG5cblx0XHRcdFx0XHRcdFx0Y29uZmlnLmdldChcImxpc3RcIikub25Mb2FkRXZlbnQoKTtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdH0pKCk7XG5cblx0XHRcdFx0JGZpZWxkLmFmdGVyKCRlbGVtZW50c19jb250YWluZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiByZW1vdmVDb250YWluZXIoKSB7XG5cdFx0XHRcdCRmaWVsZC5uZXh0KFwiLlwiICsgY29uc3RzLmdldFZhbHVlKFwiQ09OVEFJTkVSX0NMQVNTXCIpKS5yZW1vdmUoKTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gaGlnaGxpZ2h0KHN0cmluZywgcGhyYXNlKSB7XG5cblx0XHRcdFx0aWYoY29uZmlnLmdldChcImhpZ2hsaWdodFBocmFzZVwiKSAmJiBwaHJhc2UgIT09IFwiXCIpIHtcblx0XHRcdFx0XHRyZXR1cm4gaGlnaGxpZ2h0UGhyYXNlKHN0cmluZywgcGhyYXNlKTtcdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBzdHJpbmc7XG5cdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cikge1xuXHRcdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCBcIlxcXFwkJlwiKTtcbiBcdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGhpZ2hsaWdodFBocmFzZShzdHJpbmcsIHBocmFzZSkge1xuXHRcdFx0XHR2YXIgZXNjYXBlZFBocmFzZSA9IGVzY2FwZVJlZ0V4cChwaHJhc2UpO1xuXHRcdFx0XHRyZXR1cm4gKHN0cmluZyArIFwiXCIpLnJlcGxhY2UobmV3IFJlZ0V4cChcIihcIiArIGVzY2FwZWRQaHJhc2UgKyBcIilcIiwgXCJnaVwiKSAsIFwiPGI+JDE8L2I+XCIpO1xuXHRcdFx0fVxuXG5cblxuXHRcdH1cblx0XHRmdW5jdGlvbiBnZXRDb250YWluZXJJZCgpIHtcblx0XHRcdFxuXHRcdFx0dmFyIGVsZW1lbnRJZCA9ICRmaWVsZC5hdHRyKFwiaWRcIik7XG5cblx0XHRcdGVsZW1lbnRJZCA9IGNvbnN0cy5nZXRWYWx1ZShcIkNPTlRBSU5FUl9JRFwiKSArIGVsZW1lbnRJZDtcblxuXHRcdFx0cmV0dXJuIGVsZW1lbnRJZDtcblx0XHR9XG5cdFx0ZnVuY3Rpb24gYmluZEV2ZW50cygpIHtcblxuXHRcdFx0YmluZEFsbEV2ZW50cygpO1xuXHRcdFx0XG5cblx0XHRcdGZ1bmN0aW9uIGJpbmRBbGxFdmVudHMoKSB7XG5cdFx0XHRcdGlmIChjaGVja1BhcmFtKFwiYXV0b2NvbXBsZXRlT2ZmXCIsIHRydWUpKSB7XG5cdFx0XHRcdFx0cmVtb3ZlQXV0b2NvbXBsZXRlKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiaW5kRm9jdXNPdXQoKTtcblx0XHRcdFx0YmluZEtleXVwKCk7XG5cdFx0XHRcdGJpbmRLZXlkb3duKCk7XG5cdFx0XHRcdGJpbmRLZXlwcmVzcygpO1xuXHRcdFx0XHRiaW5kRm9jdXMoKTtcblx0XHRcdFx0YmluZEJsdXIoKTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gYmluZEZvY3VzT3V0KCkge1xuXHRcdFx0XHQkZmllbGQuZm9jdXNvdXQoZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdFx0dmFyIGZpZWxkVmFsdWUgPSAkZmllbGQudmFsKCksXG5cdFx0XHRcdFx0XHRwaHJhc2U7XG5cblx0XHRcdFx0XHRpZiAoIWNvbmZpZy5nZXQoXCJsaXN0XCIpLm1hdGNoLmNhc2VTZW5zaXRpdmUpIHtcblx0XHRcdFx0XHRcdGZpZWxkVmFsdWUgPSBmaWVsZFZhbHVlLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzTGlzdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXG5cdFx0XHRcdFx0XHRwaHJhc2UgPSBjb25maWcuZ2V0KFwiZ2V0VmFsdWVcIikoZWxlbWVudHNMaXN0W2ldKTtcblx0XHRcdFx0XHRcdGlmICghY29uZmlnLmdldChcImxpc3RcIikubWF0Y2guY2FzZVNlbnNpdGl2ZSkge1xuXHRcdFx0XHRcdFx0XHRwaHJhc2UgPSBwaHJhc2UudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKHBocmFzZSA9PT0gZmllbGRWYWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZEVsZW1lbnQgPSBpO1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RFbGVtZW50KHNlbGVjdGVkRWxlbWVudCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBiaW5kS2V5dXAoKSB7XG5cdFx0XHRcdCRmaWVsZFxuXHRcdFx0XHQub2ZmKFwia2V5dXBcIilcblx0XHRcdFx0LmtleXVwKGZ1bmN0aW9uKGV2ZW50KSB7XG5cblx0XHRcdFx0XHRzd2l0Y2goZXZlbnQua2V5Q29kZSkge1xuXG5cdFx0XHRcdFx0XHRjYXNlIDI3OlxuXG5cdFx0XHRcdFx0XHRcdGhpZGVDb250YWluZXIoKTtcblx0XHRcdFx0XHRcdFx0bG9zZUZpZWxkRm9jdXMoKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRjYXNlIDM4OlxuXG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRcdFx0aWYoZWxlbWVudHNMaXN0Lmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRFbGVtZW50ID4gMCkge1xuXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50IC09IDE7XG5cblx0XHRcdFx0XHRcdFx0XHQkZmllbGQudmFsKGNvbmZpZy5nZXQoXCJnZXRWYWx1ZVwiKShlbGVtZW50c0xpc3Rbc2VsZWN0ZWRFbGVtZW50XSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0RWxlbWVudChzZWxlY3RlZEVsZW1lbnQpO1xuXG5cdFx0XHRcdFx0XHRcdH1cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRjYXNlIDQwOlxuXG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRcdFx0aWYoZWxlbWVudHNMaXN0Lmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRFbGVtZW50IDwgZWxlbWVudHNMaXN0Lmxlbmd0aCAtIDEpIHtcblxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkRWxlbWVudCArPSAxO1xuXG5cdFx0XHRcdFx0XHRcdFx0JGZpZWxkLnZhbChjb25maWcuZ2V0KFwiZ2V0VmFsdWVcIikoZWxlbWVudHNMaXN0W3NlbGVjdGVkRWxlbWVudF0pKTtcblxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdEVsZW1lbnQoc2VsZWN0ZWRFbGVtZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0Ly9zdXBwb3J0IHpoX0NOIGlucHV0IG1ldGhvZFxuXHRcdFx0XHRcdFx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzIgfHwgZXZlbnQua2V5Q29kZSA9PT0gOCkge1xuXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGlucHV0UGhyYXNlID0gJGZpZWxkLnZhbCgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCEoY29uZmlnLmdldChcImxpc3RcIikuaGlkZU9uRW1wdHlQaHJhc2UgPT09IHRydWUgJiYgZXZlbnQua2V5Q29kZSA9PT0gOCAmJiBpbnB1dFBocmFzZSA9PT0gXCJcIikpIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNvbmZpZy5nZXQoXCJyZXF1ZXN0RGVsYXlcIikgPiAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChyZXF1ZXN0RGVsYXlUaW1lb3V0SWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dChyZXF1ZXN0RGVsYXlUaW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVxdWVzdERlbGF5VGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGxvYWREYXRhKGlucHV0UGhyYXNlKTt9LCBjb25maWcuZ2V0KFwicmVxdWVzdERlbGF5XCIpKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxvYWREYXRhKGlucHV0UGhyYXNlKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRoaWRlQ29udGFpbmVyKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHR9XG5cblxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcblxuXHRcdFx0XHRcdGZ1bmN0aW9uIGxvYWREYXRhKGlucHV0UGhyYXNlKSB7XG5cblxuXHRcdFx0XHRcdFx0aWYgKGlucHV0UGhyYXNlLmxlbmd0aCA8IGNvbmZpZy5nZXQoXCJtaW5DaGFyTnVtYmVyXCIpKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdFx0XHRpZiAoY29uZmlnLmdldChcImRhdGFcIikgIT09IFwibGlzdC1yZXF1aXJlZFwiKSB7XG5cblx0XHRcdFx0XHRcdFx0dmFyIGRhdGEgPSBjb25maWcuZ2V0KFwiZGF0YVwiKTtcblxuXHRcdFx0XHRcdFx0XHR2YXIgbGlzdEJ1aWxkZXJzID0gbGlzdEJ1aWxkZXJTZXJ2aWNlLmluaXQoZGF0YSk7XG5cblx0XHRcdFx0XHRcdFx0bGlzdEJ1aWxkZXJzID0gbGlzdEJ1aWxkZXJTZXJ2aWNlLnVwZGF0ZUNhdGVnb3JpZXMobGlzdEJ1aWxkZXJzLCBkYXRhKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGxpc3RCdWlsZGVycyA9IGxpc3RCdWlsZGVyU2VydmljZS5wcm9jZXNzRGF0YShsaXN0QnVpbGRlcnMsIGlucHV0UGhyYXNlKTtcblxuXHRcdFx0XHRcdFx0XHRsb2FkRWxlbWVudHMobGlzdEJ1aWxkZXJzLCBpbnB1dFBocmFzZSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCRmaWVsZC5wYXJlbnQoKS5maW5kKFwibGlcIikubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRcdHNob3dDb250YWluZXIoKTtcdFxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGhpZGVDb250YWluZXIoKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHZhciBzZXR0aW5ncyA9IGNyZWF0ZUFqYXhTZXR0aW5ncygpO1xuXG5cdFx0XHRcdFx0XHRpZiAoc2V0dGluZ3MudXJsID09PSB1bmRlZmluZWQgfHwgc2V0dGluZ3MudXJsID09PSBcIlwiKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnVybCA9IGNvbmZpZy5nZXQoXCJ1cmxcIik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChzZXR0aW5ncy5kYXRhVHlwZSA9PT0gdW5kZWZpbmVkIHx8IHNldHRpbmdzLmRhdGFUeXBlID09PSBcIlwiKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmRhdGFUeXBlID0gY29uZmlnLmdldChcImRhdGFUeXBlXCIpO1xuXHRcdFx0XHRcdFx0fVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MudXJsICE9PSB1bmRlZmluZWQgJiYgc2V0dGluZ3MudXJsICE9PSBcImxpc3QtcmVxdWlyZWRcIilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cmwgIT09IHVuZGVmaW5lZCAmJiBzZXR0aW5ncy51cmwgIT09IFwibGlzdC1yZXF1aXJlZFwiKSB7XG5cblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudXJsID0gc2V0dGluZ3MudXJsKGlucHV0UGhyYXNlKTtcblxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5kYXRhID0gY29uZmlnLmdldChcInByZXBhcmVQb3N0RGF0YVwiKShzZXR0aW5ncy5kYXRhLCBpbnB1dFBocmFzZSk7XG5cblx0XHRcdFx0XHRcdFx0Ly9maWx0ZXIgZGF0YSBmb3IgbmVpZ2hib3Job29kLW1hcCBhcHBcblx0XHRcdFx0XHRcdFx0aWYocmF3TG9jYXRpb25zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RCdWlsZGVycyA9IGxpc3RCdWlsZGVyU2VydmljZS5pbml0KHJhd0xvY2F0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEJ1aWxkZXJzID0gbGlzdEJ1aWxkZXJTZXJ2aWNlLnVwZGF0ZUNhdGVnb3JpZXMobGlzdEJ1aWxkZXJzLCByYXdMb2NhdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RCdWlsZGVycyA9IGxpc3RCdWlsZGVyU2VydmljZS5jb252ZXJ0WG1sKGxpc3RCdWlsZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0lucHV0UGhyYXNlTWF0Y2hSZXNwb25zZShpbnB1dFBocmFzZSwgcmF3TG9jYXRpb25zKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0QnVpbGRlcnMgPSBsaXN0QnVpbGRlclNlcnZpY2UucHJvY2Vzc0RhdGEobGlzdEJ1aWxkZXJzLCBpbnB1dFBocmFzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRFbGVtZW50cyhsaXN0QnVpbGRlcnMsIGlucHV0UGhyYXNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0QnVpbGRlclNlcnZpY2UuY2hlY2tJZkRhdGFFeGlzdHMobGlzdEJ1aWxkZXJzKSAmJiAkZmllbGQucGFyZW50KCkuZmluZChcImxpXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb250YWluZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVDb250YWluZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZ2V0KFwiYWpheENhbGxiYWNrXCIpKCk7XG5cdFx0XHRcdFx0XHRcdH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoc2V0dGluZ3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEJ1aWxkZXJzID0gbGlzdEJ1aWxkZXJTZXJ2aWNlLmluaXQoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0QnVpbGRlcnMgPSBsaXN0QnVpbGRlclNlcnZpY2UudXBkYXRlQ2F0ZWdvcmllcyhsaXN0QnVpbGRlcnMsIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEJ1aWxkZXJzID0gbGlzdEJ1aWxkZXJTZXJ2aWNlLmNvbnZlcnRYbWwobGlzdEJ1aWxkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tJbnB1dFBocmFzZU1hdGNoUmVzcG9uc2UoaW5wdXRQaHJhc2UsIGRhdGEpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEJ1aWxkZXJzID0gbGlzdEJ1aWxkZXJTZXJ2aWNlLnByb2Nlc3NEYXRhKGxpc3RCdWlsZGVycywgaW5wdXRQaHJhc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRFbGVtZW50cyhsaXN0QnVpbGRlcnMsIGlucHV0UGhyYXNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0QnVpbGRlclNlcnZpY2UuY2hlY2tJZkRhdGFFeGlzdHMobGlzdEJ1aWxkZXJzKSAmJiAkZmllbGQucGFyZW50KCkuZmluZChcImxpXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbnRhaW5lcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVDb250YWluZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZ2V0KFwiYWpheENhbGxiYWNrXCIpKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybmluZyhcIkZhaWwgdG8gbG9hZCByZXNwb25zZSBkYXRhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFxuXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiBjcmVhdGVBamF4U2V0dGluZ3MoKSB7XG5cblx0XHRcdFx0XHRcdFx0dmFyIHNldHRpbmdzID0ge30sXG5cdFx0XHRcdFx0XHRcdFx0YWpheFNldHRpbmdzID0gY29uZmlnLmdldChcImFqYXhTZXR0aW5nc1wiKSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBzZXQgaW4gYWpheFNldHRpbmdzKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3Nbc2V0XSA9IGFqYXhTZXR0aW5nc1tzZXRdO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldHRpbmdzO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiBjaGVja0lucHV0UGhyYXNlTWF0Y2hSZXNwb25zZShpbnB1dFBocmFzZSwgZGF0YSkge1xuXG5cdFx0XHRcdFx0XHRcdGlmIChjb25maWcuZ2V0KFwibWF0Y2hSZXNwb25zZVByb3BlcnR5XCIpICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgY29uZmlnLmdldChcIm1hdGNoUmVzcG9uc2VQcm9wZXJ0eVwiKSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChkYXRhW2NvbmZpZy5nZXQoXCJtYXRjaFJlc3BvbnNlUHJvcGVydHlcIildID09PSBpbnB1dFBocmFzZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBjb25maWcuZ2V0KFwibWF0Y2hSZXNwb25zZVByb3BlcnR5XCIpID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoY29uZmlnLmdldChcIm1hdGNoUmVzcG9uc2VQcm9wZXJ0eVwiKShkYXRhKSA9PT0gaW5wdXRQaHJhc2UpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBiaW5kS2V5ZG93bigpIHtcblx0XHRcdFx0JGZpZWxkXG5cdFx0XHRcdFx0Lm9uKFwia2V5ZG93blwiLCBmdW5jdGlvbihldnQpIHtcblx0ICAgICAgICBcdFx0ICAgIGV2dCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XG5cdCAgICAgICAgXHRcdCAgICB2YXIga2V5Q29kZSA9IGV2dC5rZXlDb2RlO1xuXHQgICAgICAgIFx0XHQgICAgaWYgKGtleUNvZGUgPT09IDM4KSB7XG5cdCAgICAgICAgXHRcdCAgICAgICAgc3VwcHJlc3NLZXlwcmVzcyA9IHRydWU7IFxuXHQgICAgICAgIFx0XHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICBcdFx0ICAgIH1cblx0XHQgICAgICAgIFx0fSlcblx0XHRcdFx0XHQua2V5ZG93bihmdW5jdGlvbihldmVudCkge1xuXG5cdFx0XHRcdFx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMgJiYgc2VsZWN0ZWRFbGVtZW50ID4gLTEpIHtcblxuXHRcdFx0XHRcdFx0XHQkZmllbGQudmFsKGNvbmZpZy5nZXQoXCJnZXRWYWx1ZVwiKShlbGVtZW50c0xpc3Rbc2VsZWN0ZWRFbGVtZW50XSkpO1xuXG5cdFx0XHRcdFx0XHRcdGNvbmZpZy5nZXQoXCJsaXN0XCIpLm9uS2V5RW50ZXJFdmVudCgpO1xuXHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vbkNob29zZUV2ZW50KCk7XG5cblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50ID0gLTE7XG5cdFx0XHRcdFx0XHRcdGhpZGVDb250YWluZXIoKTtcblxuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBiaW5kS2V5cHJlc3MoKSB7XG5cdFx0XHRcdCRmaWVsZFxuXHRcdFx0XHQub2ZmKFwia2V5cHJlc3NcIik7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGJpbmRGb2N1cygpIHtcblx0XHRcdFx0JGZpZWxkLmZvY3VzKGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0aWYgKCRmaWVsZC52YWwoKSAhPT0gXCJcIiAmJiBlbGVtZW50c0xpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRzZWxlY3RlZEVsZW1lbnQgPSAtMTtcblx0XHRcdFx0XHRcdHNob3dDb250YWluZXIoKTtcdFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gYmluZEJsdXIoKSB7XG5cdFx0XHRcdCRmaWVsZC5ibHVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRzZWxlY3RlZEVsZW1lbnQgPSAtMTtcblx0XHRcdFx0XHRcdGhpZGVDb250YWluZXIoKTtcblx0XHRcdFx0XHR9LCAyNTApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gcmVtb3ZlQXV0b2NvbXBsZXRlKCkge1xuXHRcdFx0XHQkZmllbGQuYXR0cihcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gc2hvd0NvbnRhaW5lcigpIHtcblx0XHRcdCRjb250YWluZXIudHJpZ2dlcihcInNob3cuZWFjXCIpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhpZGVDb250YWluZXIoKSB7XG5cdFx0XHQkY29udGFpbmVyLnRyaWdnZXIoXCJoaWRlLmVhY1wiKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzZWxlY3RFbGVtZW50KGluZGV4KSB7XG5cdFx0XHRcblx0XHRcdCRjb250YWluZXIudHJpZ2dlcihcInNlbGVjdEVsZW1lbnQuZWFjXCIsIGluZGV4KTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBsb2FkRWxlbWVudHMobGlzdCwgcGhyYXNlKSB7XG5cdFx0XHQkY29udGFpbmVyLnRyaWdnZXIoXCJsb2FkRWxlbWVudHMuZWFjXCIsIFtsaXN0LCBwaHJhc2VdKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBsb3NlRmllbGRGb2N1cygpIHtcblx0XHRcdCRmaWVsZC50cmlnZ2VyKFwiYmx1clwiKTtcblx0XHR9XG5cblxuXHR9O1xuXHRzY29wZS5lYWNIYW5kbGVzID0gW107XG5cblx0c2NvcGUuZ2V0SGFuZGxlID0gZnVuY3Rpb24oaWQpIHtcblx0XHRyZXR1cm4gc2NvcGUuZWFjSGFuZGxlc1tpZF07XG5cdH07XG5cblx0c2NvcGUuaW5wdXRIYXNJZCA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cblx0XHRpZigkKGlucHV0KS5hdHRyKFwiaWRcIikgIT09IHVuZGVmaW5lZCAmJiAkKGlucHV0KS5hdHRyKFwiaWRcIikubGVuZ3RoID4gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0fTtcblxuXHRzY29wZS5hc3NpZ25SYW5kb21JZCA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cblx0XHR2YXIgZmllbGRJZCA9IFwiXCI7XG5cblx0XHRkbyB7XG5cdFx0XHRmaWVsZElkID0gXCJlYWMtXCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XHRcdFxuXHRcdH0gd2hpbGUgKCQoXCIjXCIgKyBmaWVsZElkKS5sZW5ndGggIT09IDApO1xuXHRcdFxuXHRcdGVsZW1lbnRJZCA9IHNjb3BlLmNvbnN0cy5nZXRWYWx1ZShcIkNPTlRBSU5FUl9JRFwiKSArIGZpZWxkSWQ7XG5cblx0XHQkKGlucHV0KS5hdHRyKFwiaWRcIiwgZmllbGRJZCk7XG4gXG5cdH07XG5cblx0c2NvcGUuc2V0SGFuZGxlID0gZnVuY3Rpb24oaGFuZGxlLCBpZCkge1xuXHRcdHNjb3BlLmVhY0hhbmRsZXNbaWRdID0gaGFuZGxlO1xuXHR9O1xuXG5cblx0cmV0dXJuIHNjb3BlO1xuXG59KShFYXN5QXV0b2NvbXBsZXRlIHx8IHt9KTtcblxuKGZ1bmN0aW9uKCQpIHtcblxuXHQvL2FkZCBqUXVlcnkgcGx1Z2luIGZ1bmN0aW9uXG5cdCQuZm4uZWFzeUF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLC8vY3VycmVudCB1aSBjb21wb25lbnRcblx0XHRcdFx0ZWFjSGFuZGxlID0gbmV3IEVhc3lBdXRvY29tcGxldGUubWFpbigkdGhpcywgb3B0aW9ucyk7XG5cblx0XHRcdGlmICghRWFzeUF1dG9jb21wbGV0ZS5pbnB1dEhhc0lkKCR0aGlzKSkge1xuXHRcdFx0XHRFYXN5QXV0b2NvbXBsZXRlLmFzc2lnblJhbmRvbUlkKCR0aGlzKTtcblx0XHRcdH1cblxuXHRcdFx0ZWFjSGFuZGxlLmluaXQoKTtcblxuXHRcdFx0RWFzeUF1dG9jb21wbGV0ZS5zZXRIYW5kbGUoZWFjSGFuZGxlLCAkdGhpcy5hdHRyKFwiaWRcIikpO1xuXG5cdFx0fSk7XG5cdH07XG5cblx0JC5mbi5nZXRTZWxlY3RlZEl0ZW1JbmRleCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGlucHV0SWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcblxuXHRcdGlmIChpbnB1dElkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBFYXN5QXV0b2NvbXBsZXRlLmdldEhhbmRsZShpbnB1dElkKS5nZXRTZWxlY3RlZEl0ZW1JbmRleCgpO1xuXHRcdH1cblxuXHRcdHJldHVybiAtMTtcblx0fTtcblxuXHQkLmZuLmdldEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIGlucHV0SWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcblxuXHRcdGlmIChpbnB1dElkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBFYXN5QXV0b2NvbXBsZXRlLmdldEhhbmRsZShpbnB1dElkKS5nZXRJdGVtcygpO1xuXHRcdH1cblxuXHRcdHJldHVybiAtMTtcblx0fTtcblxuXHQkLmZuLmdldEl0ZW1EYXRhID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuXHRcdHZhciBpbnB1dElkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG5cblx0XHRpZiAoaW5wdXRJZCAhPT0gdW5kZWZpbmVkICYmIGluZGV4ID4gLTEpIHtcblx0XHRcdHJldHVybiBFYXN5QXV0b2NvbXBsZXRlLmdldEhhbmRsZShpbnB1dElkKS5nZXRJdGVtRGF0YShpbmRleCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIC0xO1xuXHR9O1xuXG5cdCQuZm4uZ2V0U2VsZWN0ZWRJdGVtRGF0YSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGlucHV0SWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcblxuXHRcdGlmIChpbnB1dElkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBFYXN5QXV0b2NvbXBsZXRlLmdldEhhbmRsZShpbnB1dElkKS5nZXRTZWxlY3RlZEl0ZW1EYXRhKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIC0xO1xuXHR9O1xuXG59KShqUXVlcnkpO1xuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgc3VucmlzZTIwNzUgb24gMjAxNy8zLzMuXHJcbiAqL1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpey8vXHJcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgJCgnI21hcC1jYW52YXMnKS5jc3MoJ2hlaWdodCcsIGgpO1xyXG4gICAgfSkucmVzaXplKCk7XHJcblxyXG4gICAgJChcIiNtZW51LXRvZ2dsZVwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQoXCIjd3JhcHBlclwiKS50b2dnbGVDbGFzcyhcInRvZ2dsZWRcIik7XHJcbiAgICB9KTtcclxufSlcclxuIl19
